<!-- This file is autogenerated. See CONTRIBUTING.md for instructions to add an entry. -->

# Changelog

<!-- next version -->

## v0.23.0

This release includes version 0.119.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.119.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.119.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.119.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `configtls`: Allow users to mention their preferred curve types for ECDHE handshake (https://github.com/open-telemetry/opentelemetry-collector/pull/12174)
- `otelcol`: Adds support for listing config providers in components command's output (https://github.com/open-telemetry/opentelemetry-collector/pull/11570)
- `pdata/pprofile`: Add new helper method `FromAttributeIndices` to build a `pcommon.Map` out of `AttributeIndices`. (https://github.com/open-telemetry/opentelemetry-collector/pull/12176)
- `component`: Allow `component.ValidateConfig` to recurse through all fields in a config object (https://github.com/open-telemetry/opentelemetry-collector/pull/11524)
- `component`: Show path to invalid config in errors returned from `component.ValidateConfig` (https://github.com/open-telemetry/opentelemetry-collector/pull/12108)

- `processor/transformprocessor`: Add support for flat configuration style. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017)
  The flat configuration style allows users to configure statements by providing a list of statements instead of a
  structured configuration map. The statement's context is expressed by adding the context's name prefix to path names,
  which are used to infer and to select the appropriate context for the statement.

- `resourcedetectionprocessor`: Expose additional configuration parameters for the AWS metadata client used by the EC2 detector (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35936)
  In some cases, you might need to change the behavior of the AWS metadata client from the [standard retryer](https://docs.aws.amazon.com/sdk-for-go/v2/developer-guide/configure-retries-timeouts.html)
  
  By default, the client retries 3 times with a max backoff delay of 20s.
  
  We offer a limited set of options to override those defaults specifically, such that you can set the client to retry 10 times, for up to 5 minutes, for example:
  ```yaml
  processors:
    resourcedetection/ec2:
      detectors: ["ec2"]
      ec2:
        max_attempts: 10
        max_backoff: 5m
  ```
  
- `cumulativetodeltaprocessor`: Add metric type filter for cumulativetodelta processor (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33673)
- `resourcedetectionprocessor`: Add `fail_on_missing_metadata` option on EC2 detector (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35936)
  If the EC2 metadata endpoint is unavailable, the EC2 detector by default ignores the error.
  By setting `fail_on_missing_metadata` to true on the detector, the user will now trigger an error explicitly,
  which will stop the collector from starting.

- `resourcedetectionprocessor`: The `gcp` resource detector will now detect resource attributes identifying a GCE instance's managed instance group. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36142)
- `jaegerreceiver`: Log the endpoints of different servers started by jaegerreceiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36961)
  This change logs the endpoints of different servers started by jaegerreceiver. It simplifies debugging by ensuring log messages match configuration settings.
  
- `receiver/hostmetrics`: Added support for tracking process.uptime (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36667)
- `processor/transformprocessor`: Replace parser collection implementations with `ottl.ParserCollection` and add initial support for expressing statement's context via path names. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017)
- `prometheusreceiver`: Add `receiver.prometheusreceiver.UseCollectorStartTimeFallback` featuregate for the start time metric adjuster to use the collector start time as an approximation of process start time as a fallback. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36364)
- `tailsamplingprocessor`: Reworked the consume traces, sampling decision, and policy loading paths to improve performance and readability (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37560)

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Fix bug that the exporter with new batcher may have been marked as non mutation. (https://github.com/open-telemetry/opentelemetry-collector/pull/12239)
  Only affects users that manually turned on `exporter.UsePullingBasedExporterQueueBatcher` featuregate.
- `confighttp`: confighttp.ToServer now sets ErrorLog with a default logger backed by Zap (https://github.com/open-telemetry/opentelemetry-collector/pull/11820)

  This change ensures that the http.Server's ErrorLog is correctly set using Zap's logger at the error level, addressing the issue of error logs being printed using a different logger.
  
- `exporterhelper`: Fix context propagation for DisabledBatcher (https://github.com/open-telemetry/opentelemetry-collector/pull/12231)
- `mdatagen`: Fix bug where Histograms were marked as not supporting temporaly aggregation (https://github.com/open-telemetry/opentelemetry-collector/pull/12168)
- `exporterhelper`: Fix MergeSplit issue that ignores the initial message size. (https://github.com/open-telemetry/opentelemetry-collector/pull/12257)

- `filelogreceiver`: Fix issue where flushed tokens could be truncated. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35042)
- `k8sattributesprocessor`: Wait for the other informers to complete their initial sync before starting the pod informers (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37056)
- `pkg/stanza`: Fix default source identifier in recombine operator (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37210)
  Its defualt value is now aligned with the semantic conventions: `attributes["log.file.path"]`
  
- `tailsamplingprocessor`: Fixed sampling decision metrics `otelcol_processor_tail_sampling_sampling_trace_dropped_too_early` and `otelcol_processor_tail_sampling_sampling_policy_evaluation_error_total`, these were sometimes overcounted. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37212)
  As a result of this change non-zero values of `otelcol_processor_tail_sampling_sampling_trace_dropped_too_early`
  and `otelcol_processor_tail_sampling_sampling_policy_evaluation_error_total` metrics will be lower.
  Before this fix, errors got counted several times depending on the amount of traces being processed
  that tick and where in the batch the error happened.
  Zero values are unaffected.

---

</details>

## v0.22.0

This release includes version 0.118.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.118.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.118.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.118.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/stanza`: Move `filelog.container.removeOriginalTimeField` feature gate to stable (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33389)
- `pkg/ottl`: Support dynamic indexing of maps and slices. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36644)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporterhelper`: Add blocking option to control queue behavior when full (https://github.com/open-telemetry/opentelemetry-collector/pull/12090)
- `debugexporter`: Add EventName to debug exporter for Logs. EventName was added as top-level field in the LogRecord from 1.5.0 of proto definition. (https://github.com/open-telemetry/opentelemetry-collector/pull/11966)
- `confighttp`: Added support for configuring compression levels. (https://github.com/open-telemetry/opentelemetry-collector/pull/10467)
  A new configuration option called CompressionParams has been added to confighttp.
  This allows users to configure the compression levels for the confighttp client.
- `exporterhelper`: Change the memory queue implementation to not pre-allocate capacity objects. (https://github.com/open-telemetry/opentelemetry-collector/pull/12070)
  This change improves memory usage of the collector under low utilization and is a prerequisite for supporting different other size limitations (number of items, bytes).
- `pkg/ottl`: Add the `Nanosecond` converter to return the nanosecond component from the specified time.Time (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37042)
- `pkg/ottl`: Add the `Second` converter to return the second component from the specified time.Time (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37042)
- `pkg/ottl`: Enhanced error messages for invalid cache access and introduced options to configure their values within the OTTL contexts. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017)
- `pkg/ottl`: Add the `FormatTime` function to convert `time.Time` values to human-readable strings (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36870)
- `resourcedetectionprocessor`: This enhancement detects AWS EKS cloud account ID (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37179)
- `resourcedetectionprocessor`: Introduce kubeadm detector to retrieve local cluster name. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35116)
- `k8sattributesprocessor`: For pods with only one container, the `container.id` and `k8s.container.name` are not longer required in the resource attributes to add the container attributes (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34189)
- `tailsamplingprocessor`: Added debug logging to the sampling decision caches. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37038)
- `tailsamplingprocessor`: Improved not sampled decision cache usage and deleting traces from the internal map when they are in a decision cache. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37189)

### ðŸ§° Bug fixes ðŸ§°

- `k8sattributesprocessor`: Ensure the pods gathered by the processor contain the information about their related replica sets and deployments after the initial sync (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37056)
- `pkg/ottl`: Fix bug with `replace_all_matches` and `replace_all_patterns` that caused non-string values to be changed to empty string when matching against empty string. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37071)
- `tailsamplingprocessor`: Fixed sampling policy evaluation debug logging batch metrics (e.g. sampled). (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37040)
- `tailsamplingprocessor`: Late span age histogram should include sampled traces. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37180)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `release`: Add builds for ppc64le and s390x architectures (#424)

## v0.21.0

This release includes version v0.117.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.117.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.117.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.117.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `otelcol`: Remove warnings when 0.0.0.0 is used (https://github.com/open-telemetry/opentelemetry-collector/pull/11713, https://github.com/open-telemetry/opentelemetry-collector/pull/8510)
- `pkg/ottl`: removed the ability to reference entire parent objects. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36872)
  Statements like `set(cache["resource"], resource)` in non-resource contexts will no longer work.

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Add a new ottl trim function that trims leading and trailing characters from a string (default- whitespace). (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34100)
- `statsdreceiver`: Add UDS support to statsdreceiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/21385)
- `tailsamplingprocessor`: Support hot sampling policy loading (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37014)

### ðŸ§° Bug fixes ðŸ§°

- `internal/sharedcomponent`: Fixed bug where sharedcomponent would use too much memory remembering all the previously reported statuses (https://github.com/open-telemetry/opentelemetry-collector/pull/11826)
- `pkg/ottl`: fix handling of nested maps within slices in the `flatten` function (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36162)

---

</details>

v0.116.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.116.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.116.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pdata/pprofile`: Remove deprecated `Profile.EndTime` and `Profile.SetEndTime` methods. (https://github.com/open-telemetry/opentelemetry-collector/pull/11796)
- `processor/tailsampling`: Reverts https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33671, allowing for composite policies to specify inverted clauses in conjunction with other policies. This is a change bringing the previous state into place, breaking users who rely on what was introduced as part of https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33671. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34085)

### ðŸ’¡ Enhancements ðŸ’¡

- `xconfighttp`: Add WithOtelHTTPOptions to experimental module xconfighttp (https://github.com/open-telemetry/opentelemetry-collector/pull/11770)
- `pkg/ottl`: GetXML Converter now supports selecting text, CDATA, and attribute (value) content. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36821)
- `pkg/pdatatest`: Add support for Profiles signal comparison. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36232)
- `testbed`: Add batcher performance tests (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36206)
- `testbed`: add options for retry/storage for filelog sender (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36781)

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Fix memory leak at exporter shutdown (https://github.com/open-telemetry/opentelemetry-collector/pull/11401)
- `sharedcomponent`: Remove race-condition and cleanup locking (https://github.com/open-telemetry/opentelemetry-collector/pull/11819)
- `receiver/prometheusreceiver`: Metric adjuster no longer assumes that all metrics from a scrape come from the same resource (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36477)
- `parseutils`: Handle escaped quotes when parsing pairs using SplitString. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36176)
- `jaegerreceiver`: Remove ineffectual warning from jaegerreceiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35894)

---

</details>

## v0.20.0

This release includes version 0.115.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.115.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.115.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.115.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `otelcol`: Change all logged timestamps to ISO8601. ([#10543](https://github.com/open-telemetry/opentelemetry-collector/pull/10543))
This makes log timestamps human-readable (as opposed to epoch seconds in
scientific notation), but may break users trying to parse logged lines in the
old format.
- `k8sattributesprocessor`: Move k8sattr.fieldExtractConfigRegex.disallow feature gate to Beta. ([#25128](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/25128))
Disable the k8sattr.fieldExtractConfigRegex.disallow feature gate to get the old behavior.

### ðŸ’¡ Enhancements ðŸ’¡

- `statsdreceiver`: Adapt statsd receiver example config to remove filtering of histogram metrics (#385)
- `tailsamplingprocessor`: Adds decision cache for non-sampled trace IDs ([#31583](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31583))

### ðŸ§° Bug fixes ðŸ§°

- `service`: ensure OTLP emitted logs respect severity ([#11718](https://github.com/open-telemetry/opentelemetry-collector/pull/11718))
- `processor/k8sattribute`: fixes parsing of k8s image names to support images with tags and digests. ([#36131](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36131))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `statsdreceiver`: Adapt statsd receiver example config to remove filtering of histogram metrics (#385)


## v0.19.0

This release includes version 0.114.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.114.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.114.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.114.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `exporter`: Remove deprecated funcs Create[*]Exporter and [*]ExporterStability (https://github.com/open-telemetry/opentelemetry-collector/pull/11662)
- `extension`: Remove deprecated funcs CreateExtension and ExtensionStability (https://github.com/open-telemetry/opentelemetry-collector/pull/11663)
- `pkg/stanza`: Changed signature of `emit.Callback` function in `pkg/stanza/fileconsumer/emit` package by introducing `emit.Token` struct that encapsulates the token's body and attributes. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36260)

### ðŸ’¡ Enhancements ðŸ’¡

- `cmd/builder`: Allow for replacing of local Providers and Converters when building custom collector with ocb. (https://github.com/open-telemetry/opentelemetry-collector/pull/11649)
- `cmd/builder`: Allow configuring `confmap.Converter` components in ocb. (https://github.com/open-telemetry/opentelemetry-collector/pull/11582)
- `all`: shorten time period before removing an unmaintained component from 6 months to 3 months (https://github.com/open-telemetry/opentelemetry-collector/pull/11664)

- `k8sattributesprocessor`: Add support for profiles signal (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35983)
- `resourcedetectionprocessor`: Introduce support for Profiles signal type. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35980)

### ðŸ§° Bug fixes ðŸ§°

- `pkg/stanza`: Ensure that time parsing happens before entry is sent to downstream operators (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36213)
- `pkg/stanza`: Synchronous handling of entries passed from the log emitter to the receiver adapter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35453)
- `processor/k8sattributes`: Block when starting until the metadata have been synced, to fix that some data couldn't be associated with metadata when the agent was just started. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32556)
- `pkg/ottl`: Respect the depth option when flattening slices using flatten (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36161)
The depth option is also now required to be at least 1.

</details>

## v0.18.0

This release includes version 0.113.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.113.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.113.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.113.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `internal/fanoutconsumer`: Extract internal/fanoutconsumer as a separate go module (https://github.com/open-telemetry/opentelemetry-collector/pull/11441)
- `builder`: Remove builder support to build old version, and the otelcol_version config (https://github.com/open-telemetry/opentelemetry-collector/pull/11405)
  User should remove this property from their config, to build older versions use older builders.
- `receiver`: Make receivertest into its own module (https://github.com/open-telemetry/opentelemetry-collector/pull/11462)
- `builder`: Remove deprecated flags from Builder (https://github.com/open-telemetry/opentelemetry-collector/pull/11576)
  Here is the list of flags | --name, --description, --version, --otelcol-version, --go, --module
- `internal/sharedcomponent`: Extract internal/sharedcomponent as a separate go module (https://github.com/open-telemetry/opentelemetry-collector/pull/11442)

- `pkg/ottl`: Promote `processor.transform.ConvertBetweenSumAndGaugeMetricContext` feature gate to Stable (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36216)
    This gate can no longer be disabled. The `convert_sum_to_gauge` and `convert_gauge_to_sum` may now only be used with the `metric` context.
- `hostmetrics`: Adjust scraper creation to make it so the scraper name is reported with hostmetrics scraper errors. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35814)
- `pkg/ottl`: Add SliceToMap function (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35256)

### ðŸ’¡ Enhancements ðŸ’¡

- `mdatagen`: Add otlp as supported distribution (https://github.com/open-telemetry/opentelemetry-collector/pull/11527)
- `batchprocessor`: Move single shard batcher creation to the constructor (https://github.com/open-telemetry/opentelemetry-collector/pull/11594)
- `service`: add support for using the otelzap bridge and emit logs using the OTel Go SDK (https://github.com/open-telemetry/opentelemetry-collector/pull/10544)

- `hostmetricsreceiver`: Add the system.uptime metric in the hostmetrics receiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/31627)
  This metric is provided by the new `system` scraper.

### ðŸ§° Bug fixes ðŸ§°

- `service`: ensure traces and logs emitted by the otel go SDK use the same resource information (https://github.com/open-telemetry/opentelemetry-collector/pull/11578)
- `config/configgrpc`: Patch for bug in the grpc-go NewClient that makes the way the hostname is resolved incompatible with the way proxy setting are applied. (https://github.com/open-telemetry/opentelemetry-collector/pull/11537)
- `builder`: Update builder default providers to lastest stable releases (https://github.com/open-telemetry/opentelemetry-collector/pull/11566)

- `pkg/stanza`: Fixed bug causing Operators with DropOnErrorQuiet to send log entries to the next operator. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35010)
  This issue was introduced by a bug fix meant to ensure Silent Operators are not logging errors (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35010). With this fix,
  this side effect bug has been resolved.
- `receiver/filelog`: fix record counting with header (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35869)
- `pkg/stanza/operator`: Retain Operator should propagate the severity field (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35832)
  The retain operator should propagate the severity field like it does with timestamps.

- `pkg/stanza`: Handle error of callback function of `ParserOperator.ProcessWithCallback` (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35769)
  `ProcessWithCallback` of `ParserOperator` first calls the `ParseWith` method
  which properly handles errors with `HandleEntryError`.
  Then the callback function is called and its returned error should also
  be handled by the `HandleEntryError` ensuring a consistent experience.
---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `transformprocessor`: Extend the user data filtering example with a statement for masking the `client.address` attribute. (#356)
- `transformprocessor`: Extend the credit card and IBAN filtering example with log body filtering (#357)
- `docs`: Add a note about k8s enrichment of collector internal telemetry (#364)

## v0.17.0

This release includes version 0.112.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.112.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.112.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.112.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Add ConvertAttributesToElementsXML Converter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35328)
- `pkg/ottl`: Parsing invalid statements and conditions now prints all errors instead of just the first one found. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35728)
- `pkg/ottl`: Add ParseSimplifiedXML Converter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35421)
- `pkg/ottl`: Add ConvertTextToElements Converter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35364)

### ðŸ§° Bug fixes ðŸ§°

- `filelogreceiver`: Supports `add_metadata_from_filepath` for Windows filepaths (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35558)
- `filelogreceiver`: Suppress errors on EBADF when unlocking files. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35706)
  This error is harmless and happens regularly when delete_after_read is set. This is because we acquire the lock right at the start of the ReadToEnd function and then defer the unlock, but that function also performs the delete. So, by the time it returns and the defer runs the file descriptor is no longer valid.
- `hostmetricsreceiver`: Fix duplicate filesystem metrics (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34635, https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34512)
  The hostmetrics exposes duplicate metrics of identical mounts exposed in namespaces. The duplication causes errors in exporters that are sensitive to duplicate metrics. We can safely drop the duplicates as the metrics should be exactly the same.

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `redactionprocessor`: Add example config for redacting credit card numbers. (#337)
- `transformprocessor`: Add example for DT API Token filtering using the redaction and transform processor. (#346)
- `transformprocessor`: Introduce masking example of credit card numbers. (#340)
- `transformprocessor`: Introduce masking and redaction example of international IBANs. (#343)
- `transformprocessor`: Add config example for redacting user related data with transform processor (#342)

### ðŸ§° Bug fixes ðŸ§°

- `installer`: Move the documentation key in the linux service file to the correct section (#334)

## v0.16.0

This release includes version 0.111.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.111.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.111.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.111.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service/telemetry`: Change default metrics address to "localhost:8888" instead of ":8888" ([#11251](https://github.com/open-telemetry/opentelemetry-collector/pull/11251))
  This behavior can be disabled by disabling the feature gate 'telemetry.UseLocalHostAsDefaultMetricsAddress'.
- `config`: Move component.UseLocalHostAsDefaultHost feature gate to stable and therefore remove the ability to disable it. ([#35569](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35569))


### ðŸš© Deprecations ðŸš©

- `service/telemetry`: Deprecate service::telemetry::metrics::address in favor of service::telemetry::metrics::readers. ([#11205](https://github.com/open-telemetry/opentelemetry-collector/pull/11205))
- `processorhelper`: Deprecate BuildProcessorMetricName as it's no longer needed since introduction of mdatagen ([#11328](https://github.com/open-telemetry/opentelemetry-collector/pull/11328))


### ðŸ’¡ Enhancements ðŸ’¡

- `confighttp`: Snappy compression to lazy read for memory efficiency ([#11177](https://github.com/open-telemetry/opentelemetry-collector/pull/11177))
- `httpsprovider`: Mark the httpsprovider as stable. ([#11191](https://github.com/open-telemetry/opentelemetry-collector/pull/11191))
- `httpprovider`: Mark the httpprovider as stable. ([#11191](https://github.com/open-telemetry/opentelemetry-collector/pull/11191))
- `yamlprovider`: Mark the yamlprovider as stable. ([#11192](https://github.com/open-telemetry/opentelemetry-collector/pull/11192))
- `confmap`: Allow using any YAML structure as a string when loading configuration including time.Time formats ([#10659](https://github.com/open-telemetry/opentelemetry-collector/pull/10659))
  Previously, fields with time.Time formats could not be used as strings in configurations
- `receiver/statsd`: Add support for aggregating on Host/IP.
  ([#23809](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/23809))
- `hostmetricsreceiver`: Add ability to mute all errors (mainly due to access rights) coming from process scraper of the hostmetricsreceiver ([#20435](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/20435))
- `pkg/ottl`: Add InsertXML Converter ([#35436](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35436))
- `pkg/ottl`: Add GetXML Converter ([#35462](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35462))
- `pkg/ottl`: Add ToKeyValueString Converter ([#35334](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35334))
- `pkg/ottl`: Add RemoveXML Converter ([#35301](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35301))

### ðŸ§° Bug fixes ðŸ§°

- `processorhelper`: Fix data race condition, concurrent writes to the err variable, causes UB (Undefined Behavior) ([#11350](https://github.com/open-telemetry/opentelemetry-collector/pull/11350))
- `cmd/builder`: re-adds function to properly set and view version number of OpenTelemetry Collector Builder (ocb) binaries ([#11208](https://github.com/open-telemetry/opentelemetry-collector/pull/11208))
- `pdata`: Unmarshal Span and SpanLink flags from JSON ([#11267](https://github.com/open-telemetry/opentelemetry-collector/pull/11267))

---

</details>

## v0.15.0

This release includes version 0.110.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.110.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.110.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.110.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `processorhelper`: Update incoming/outgoing metrics to a single metric with a `otel.signal` attributes. ([#11144](https://github.com/open-telemetry/opentelemetry-collector/pull/11144))
  The following metrics were added in the previous version
  - otelcol_processor_incoming_spans
  - otelcol_processor_outgoing_spans
  - otelcol_processor_incoming_metric_points
  - otelcol_processor_outgoing_metric_points
  - otelcol_processor_incoming_log_records
  - otelcol_processor_outgoing_log_records

  They are being replaced with the following to more closely align with OTEP 259:
  - otelcol_processor_incoming_items
  - otelcol_processor_outgoing_items

- `processorhelper`: Remove deprecated `[Traces|Metrics|Logs]`Inserted funcs ([#11151](https://github.com/open-telemetry/opentelemetry-collector/pull/11151))
- `config`: Mark UseLocalHostAsDefaultHostfeatureGate as stable ([#11235](https://github.com/open-telemetry/opentelemetry-collector/pull/11235))
- `pkg/stanza`: Move `filelog.container.removeOriginalTimeField` feature gate to beta ([#33389](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33389))
  - Disable the `filelog.container.removeOriginalTimeField` feature gate to get the old behavior.

- `resourcedetectionprocessor`: Move `processor.resourcedetection.hostCPUSteppingAsString` feature gate to stable. ([#31136](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/31136))
- `resourcedetectionprocessor`: Remove `processor.resourcedetection.hostCPUModelAndFamilyAsString` feature gate. ([#29025](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29025))

### ðŸš© Deprecations ðŸš©

- `processorhelper`: deprecate accepted/refused/dropped metrics ([#11201](https://github.com/open-telemetry/opentelemetry-collector/pull/11201))
  The following metrics are being deprecated as they were only used in a single
  processor:
  - `otelcol_processor_accepted_log_records`
  - `otelcol_processor_accepted_metric_points`
  - `otelcol_processor_accepted_spans`
  - `otelcol_processor_dropped_log_records`
  - `otelcol_processor_dropped_metric_points`
  - `otelcol_processor_dropped_spans`
  - `otelcol_processor_refused_log_records`
  - `otelcol_processor_refused_metric_points`
  - `otelcol_processor_refused_spans`
- `hostmetricsreceiver`: Set the receiver.hostmetrics.normalizeProcessCPUUtilization feature gate to stable. ([#34763](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34763))

### ðŸ’¡ Enhancements ðŸ’¡

- `mdatagen`: Add stability field to telemetry metrics, allowing the generated description to include a stability string. ([#11160](https://github.com/open-telemetry/opentelemetry-collector/pull/11160))
- `confmap/provider/envprovider`: Support default values when env var is empty ([#5228](https://github.com/open-telemetry/opentelemetry-collector/pull/5228))
- `service/telemetry`: Mark useOtelWithSDKConfigurationForInternalTelemetry as stable ([#7532](https://github.com/open-telemetry/opentelemetry-collector/pull/7532))
- `mdatagen`: mdatagen `validateMetrics()` support validate metrics in `telemetry.metric` ([#10925](https://github.com/open-telemetry/opentelemetry-collector/pull/10925))
- `mdatagen`: Use cobra for the command, add version flag ([#11196](https://github.com/open-telemetry/opentelemetry-collector/pull/11196))
- `processor/transform`: Add custom function to the transform processor to convert exponential histograms to explicit histograms. ([#33827](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33827))
- `pkg/ottl`: Improved JSON unmarshaling performance by 10-20% by switching dependencies. ([#35130](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35130))
- `pkg/ottl`: Added support for locale in the Time converter ([#32978](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32978))
- `transformprocessor`: Remove unnecessary data copy when transform sum to/from gauge ([#35177](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35177))
- `tailsamplingprocessor`: Fix the behavior for numeric tag filters with `inverse_match` set to `true`. ([#34296](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34296))

### ðŸ§° Bug fixes ðŸ§°

- `service`: Ensure process telemetry is registered when internal telemetry is configured with readers instead of an address. ([#11093](https://github.com/open-telemetry/opentelemetry-collector/pull/11093))
- `mdatagen`: Fix incorrect generation of metric tests with boolean attributes. ([#11169](https://github.com/open-telemetry/opentelemetry-collector/pull/11169))
- `otelcol`: Fix the Windows Event Log configuration when running the Collector as a Windows service. ([#5297](https://github.com/open-telemetry/opentelemetry-collector/pull/5297), [#11051](https://github.com/open-telemetry/opentelemetry-collector/pull/11051))
- `confmap`: Fix loading config of a component from a different source. ([#11154](https://github.com/open-telemetry/opentelemetry-collector/pull/11154))
  This issue only affected loading the whole component config, loading parts of a component config from a different source was working correctly.
- `pkg/stanza`: Do not get formatted message for Windows events without an event provider. ([#35135](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35135))
  Attempting to get the formatted message for Windows events without an event provider can result in an error being logged. |
  This change ensures that the formatted message is not retrieved for such events.
- `prometheusreceiver`: Fix the retrieval of scrape configurations by also considering scrape config files ([#34786](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34786))
- `redactionprocessor`: Fix panic when using the redaction processor in a logs pipeline ([#35331](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35331))

---

</details>

## 0.14.0

This release includes version 0.109.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.109.0:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.109.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘
  
- `spanmetricsconnector`: Improve consistency between metrics generated by spanmetricsconnector. Added traces.span.metrics as default namespace ([#33227](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33227), [#32818](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32818))
  Default namespace for the generated metrics is traces.span.metrics now. | The deprecated metrics are: calls, duration and events. | The feature flag connector.spanmetrics.legacyLatencyMetricNames was added to revert the behavior.
- `pkg/ottl`: Remove tracing from OTTL due to performance concerns ([#34910](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34910))

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Added Decode() converter function ([#32493](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32493))
- `pkg/ottl`: Add `Sort` function to sort array to ascending order or descending order ([#34200](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34200))
- `transformprocessor`: Support aggregating metrics based on their attribute values and substituting the values with a new value. ([#16224](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/16224))
- `redactionprocessor`: Add support for logs and metrics ([#34479](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34479))

### ðŸ§° Bug fixes ðŸ§°
  
- `hostmetricsreceiver`: In filesystem scraper, do not prefix partitions when using the environment variable HOST_PROC_MOUNTINFO ([#35043](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35043))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `eecprovider`: Add informational headers to EEC provider requests ([#280](https://github.com/Dynatrace/dynatrace-otel-collector/pull/280))
- `docs`: Added Dynatrace dashboards that can be used to inspect the collectors internal telemetry ([#274](https://github.com/Dynatrace/dynatrace-otel-collector/pull/274))

## v0.13.0

This release includes version 0.108.0/0.108.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.108.0:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.108.0>

v0.108.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.108.1>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `all`: Added support for go1.23, bumped the minimum version to 1.22 (open-telemetry/opentelemetry-collector#10869)
- `otelcol`: Remove deprecated `ConfmapProvider` interface. (open-telemetry/opentelemetry-collector#10934)
- `confmap`: Mark `confmap.strictlyTypedInput` as stable (open-telemetry/opentelemetry-collector#10552)
- `all`: Added support for go1.23, bumped the minimum version to 1.22 (open-telemetry/opentelemetry-collector-contrib#34658)
- `transformprocessor`: Promote processor.transform.ConvertBetweenSumAndGaugeMetricContext feature flag from alpha to beta (open-telemetry/opentelemetry-collector-contrib#34567)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/otlp`: Add batching option to otlp exporter (open-telemetry/opentelemetry-collector#8122)
- `builder`: Add a --skip-new-go-module flag to skip creating a module in the output directory. (open-telemetry/opentelemetry-collector#9252)
- `component`: Add `TelemetrySettings.LeveledMeterProvider` func to replace MetricsLevel in the near future (open-telemetry/opentelemetry-collector#10931)
- `mdatagen`: Add `LeveledMeter` method to mdatagen (open-telemetry/opentelemetry-collector#10933)
- `service`: Adds `level` configuration option to `service::telemetry::trace` to allow users to disable the default TracerProvider (open-telemetry/opentelemetry-collector#10892)
  This replaces the feature gate `service.noopTracerProvider` introduced in v0.107.0
- `componentstatus`: Add new Reporter interface to define how to report a status via a `component.Host` implementation (open-telemetry/opentelemetry-collector#10852)
- `mdatagen`: support using a different github project in mdatagen README issues list (open-telemetry/opentelemetry-collector#10484)
- `mdatagen`: Updates mdatagen's usage to output a complete command line example, including the metadata.yaml file. (open-telemetry/opentelemetry-collector#10886)
- `extension`: Add ModuleInfo to extension.Settings to allow extensions to access component go module information. (open-telemetry/opentelemetry-collector#10876)
- `confmap`: Mark module as stable (open-telemetry/opentelemetry-collector#9379)
- `deltatocumulative`: Promote to `alpha` stability (open-telemetry/opentelemetry-collector-contrib#34747)
  promotes the deltatocumulative processor to alpha stability, as most features are now implemented and ready for wider testing.
- `deltatocumulative`: explicit-bounds histograms (open-telemetry/opentelemetry-collector-contrib#30705)
  implements aggregation of explicit-bounds (traditional) histograms.
- `filelogreceiver`: If acquire_fs_lock is true, attempt to acquire a shared lock before reading a file. (open-telemetry/opentelemetry-collector-contrib#34801)
  Unix only. If a lock cannot be acquired then the file will be ignored until the next poll cycle.
- `prometheusreceiver`: Ensure Target Allocator's confighttp is used in the receiver's service discovery (open-telemetry/opentelemetry-collector-contrib#33370)
- `metricstransformprocessor`: Add scaling exponential histogram support (open-telemetry/opentelemetry-collector-contrib#29803)
- `pkg/ottl`: Introduce `UserAgent` converter to parse UserAgent strings (open-telemetry/opentelemetry-collector-contrib#32434)

### ðŸ§° Bug fixes ðŸ§°

- `batchprocessor`: Update units for internal telemetry (open-telemetry/opentelemetry-collector#10652)
- `confmap`: Fix bug where an unset env var used with a non-string field resulted in a panic (open-telemetry/opentelemetry-collector#10950)
- `service`: Fix memory leaks during service package shutdown (open-telemetry/opentelemetry-collector#9165)
- `mdatagen`: Update generated telemetry template to only include context import when there are async metrics. (open-telemetry/opentelemetry-collector#10883)
- `mdatagen`: Fixed bug in which setting `SkipLifecycle` & `SkipShutdown` to true would result in a generated file with an unused import `confmaptest` (open-telemetry/opentelemetry-collector#10866)
- `confmap`: Use string representation for field types where all primitive types are strings. (open-telemetry/opentelemetry-collector#10937)
- `otelcol`: Preserve internal representation when unmarshaling component configs (open-telemetry/opentelemetry-collector#10552)
- `tailsamplingprocessor`: Update the `policy` value in metrics dimension value to be unique across multiple tail sampling components with the same policy name. (open-telemetry/opentelemetry-collector-contrib#34192)
  This change ensures that the `policy` value in the metrics exported by the tail sampling processor is unique across multiple tail sampling processors with the same policy name.
- `prometheusreceiver`: Group scraped metrics into resources created from `job` and `instance` label pairs (open-telemetry/opentelemetry-collector-contrib#34237)
  The receiver will now create a resource for each distinct job/instance label combination.
  In addition to the label/instance pairs detected from the scraped metrics, a resource representing the overall
  scrape configuration will be created. This additional resource will contain the scrape metrics, such as the number of scraped metrics, the scrape duration, etc.

- `tailsamplingprocessor`: Fix the behavior for numeric tag filters with `inverse_match` set to `true`. (open-telemetry/opentelemetry-collector-contrib#34296)
- `pkg/stanza`: fix nil value conversion (open-telemetry/opentelemetry-collector-contrib#34672)

---

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `redactionprocessor`: Added the redaction processor to the Dynatrace collector distro. (#275)

## v0.12.0

This release includes version 0.107.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.107.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.107.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.107.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `confmap`: Set the `confmap.unifyEnvVarExpansion` feature gate to Stable. Expansion of `$FOO` env vars is no longer supported.  Use `${FOO}` or `${env:FOO}` instead. (open-telemetry/opentelemetry-collector#10508)
- `filelogreceiver`: Check for unsupported fractional seconds directive when converting strptime time layout to native format (open-telemetry/opentelemetry-collector-contrib#34390)
- `fluentforwardreceiver`: Update the scope name for telemetry produced by the fluentforwardreceiver from `otelcol/fluentforwardreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/fluentforwardreceiver` (open-telemetry/opentelemetry-collector-contrib#34534)
- `hostmetricsreceiver`: Update the scope name for telemetry produced by the hostmetrics receiver's scrapers from `otelcol/hostmetricsreceiver/*` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/hostmetricsreceiver/internal/scraper/*` (open-telemetry/opentelemetry-collector-contrib#34526)
- `prometheusreceiver`: Update the scope name for telemetry produced by the prometheusreceiver from `otelcol/prometheusreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/prometheusreceiver (open-telemetry/opentelemetry-collector-contrib#34589)
- `statsdreceiver`: Update the scope name for telemetry produced by the statsdreceiver from `otelcol/statsdreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/statsdreceiver` (open-telemetry/opentelemetry-collector-contrib#34547)
- `k8sattributesprocessor`: Update the scope name for telemetry produced by the k8sattributesprocessor from `otelcol/k8sattributes` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/k8sattributesprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `filterprocessor`: Update the scope name for telemetry produced by the filterprocessor from `otelcol/filter` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/filterprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `probabilisticsamplerprocessor`: Update the scope name for telemetry produced by the probabilisticsamplerprocessor from `otelcol/probabilisticsampler` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/probabilisticsamplerprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `tailsamplingprocessor`: Update the scope name for telemetry produced by the tailsamplingprocessor from `otelcol/tailsampling` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/tailsamplingprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)

### ðŸ’¡ Enhancements ðŸ’¡

- `confmap`: Allow using any YAML structure as a string when loading configuration. (open-telemetry/opentelemetry-collector#10800)
  Previous to this change, slices could not be used as strings in configuration.
- `semconv`: Add v1.26.0 semantic conventions package (open-telemetry/opentelemetry-collector#10249, open-telemetry/opentelemetry-collector#10829)
- `semconv`: Add semantic conventions version v1.27.0 (open-telemetry/opentelemetry-collector#10837)
- `hostmetricsreceiver`: add reporting interval to entity event (open-telemetry/opentelemetry-collector-contrib#34240)
- `processor/k8sattributes`: Add support for `container.image.repo_digests` metadata (open-telemetry/opentelemetry-collector-contrib#34029)

### ðŸ§° Bug fixes ðŸ§°

- `configtelemetry`: Add 10s read header timeout on the configtelemetry Prometheus HTTP server. (open-telemetry/opentelemetry-collector#5699)
- `service`: Allow users to disable the tracer provider via the feature gate `service.noopTracerProvider` (open-telemetry/opentelemetry-collector#10858)
  The service is returning an instance of a SDK tracer provider regardless of whether there were any processors configured causing resources to be consumed unnecessarily.
- `processorhelper`: Fix processor metrics not being reported initially with 0 values. (open-telemetry/opentelemetry-collector#10855)
- `service`: Implement the `temporality_preference` setting for internal telemetry exported via OTLP (open-telemetry/opentelemetry-collector#10745)
- `configauth`: Fix unmarshaling of authentication in HTTP servers. (open-telemetry/opentelemetry-collector#10750)
- `confmap`: If loading an invalid YAML string through a provider, use it verbatim instead of erroring out. (open-telemetry/opentelemetry-collector#10759)
  This makes the ${env:ENV} syntax closer to how ${ENV} worked before unifying syntaxes.
  
- `component`: Allow component names of up to 1024 characters in length. (open-telemetry/opentelemetry-collector#10816)
- `confmap`: Remove original string representation if invalid. (open-telemetry/opentelemetry-collector#10787)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ§° Bug fixes ðŸ§°

- `release`: Add missing dependency to /bin/sh to the RPM linux package (#264)

## v0.11.0

This release includes version 0.106.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.106.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.106.1>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.106.1>

v0.106.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.106.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.106.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `k8sattributesprocessor`: Deprecate `extract.annotations.regex` and `extract.labels.regex` config fields in favor of the `ExtractPatterns` function in the transform processor. The `FieldExtractConfig.Regex` parameter will be removed in version v0.111.0. (open-telemetry/opentelemetry-collector-contrib#25128)
  Deprecating of FieldExtractConfig.Regex parameter means that it is recommended to use the `ExtractPatterns` function from the transform processor instead. To convert your current configuration please check the `ExtractPatterns` function [documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/pkg/ottl/ottlfuncs#extractpatterns). You should use the `pattern` parameter of `ExtractPatterns` instead of using the `FieldExtractConfig.Regex` parameter.

### ðŸ’¡ Enhancements ðŸ’¡

- `confighttp`: Add option to include query params in auth context (open-telemetry/opentelemetry-collector#4806)
- `configgrpc`: gRPC auth errors now return gRPC status code UNAUTHENTICATED (16) (open-telemetry/opentelemetry-collector#7646)
- `httpprovider`, `httpsprovider`: Validate URIs in HTTP and HTTPS providers before fetching. (open-telemetry/opentelemetry-collector#10468)
- `processor/transform`: Add `scale_metric` function that scales all data points in a metric. (open-telemetry/opentelemetry-collector-contrib#16214)
- `transformprocessor`: Support aggregating metrics based on their attributes. (open-telemetry/opentelemetry-collector-contrib#16224)
- `pkg/ottl`: Adds an `Format` function to OTTL that calls `fmt.Sprintf` (open-telemetry/opentelemetry-collector-contrib#33405)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `release`: Add version number to all release artifacts (#245)
  All collector distribution artifacts now include the version number in their filename.
  
- `release`: Release as Linux service for multiple Linux distros (#241)
  The collector distribution is now available as linux packages (.rpm and .deb).
  

## v0.10.0

This release includes version 0.105.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.105.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.105.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.105.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service`: add `service.disableOpenCensusBridge` feature gate which is enabled by default to remove the dependency on OpenCensus ([#10414](https://github.com/open-telemetry/opentelemetry-collector/issues/10414))
- `confmap`: Promote `confmap.strictlyTypedInput` feature gate to beta. ([#10552](https://github.com/open-telemetry/opentelemetry-collector/issues/10552))
  
  This feature gate changes the following:

  - Configurations relying on the implicit type casting behaviors listed on [#9532](https://github.com/open-telemetry/opentelemetry-collector/issues/9532) will start to fail.
  - Configurations using URI expansion (i.e. `field: ${env:ENV}`) for string-typed fields will use the value passed in `ENV` verbatim without intermediate type casting.

- `stanza`: errors from Operator.Process are returned instead of silently ignored. ([#33783](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33783))
  This public function is affected: https://pkg.go.dev/github.com/open-telemetry/opentelemetry-collector-contrib/pkg/stanza@v0.104.0/operator/helper#WriterOperator.Write

### ðŸ§° Bug fixes ðŸ§°

- `confmap`: Fixes issue where confmap could not escape `$$` when `confmap.unifyEnvVarExpansion` is enabled. ([#10560](https://github.com/open-telemetry/opentelemetry-collector/pull/10560))
- `otlpreceiver`: Fixes a bug where the otlp receiver's http response was not properly translating grpc error codes to http status codes. ([#10574](https://github.com/open-telemetry/opentelemetry-collector/pull/10574))
- `service/telemetry`: Add ability to set service.name for spans emitted by the Collector ([#10489](https://github.com/open-telemetry/opentelemetry-collector/issues/10489))
- `internal/localhostgate`: Correctly log info message when `component.UseLocalHostAsDefaultHost` is enabled ([#8510](https://github.com/open-telemetry/opentelemetry-collector/issues/8510))
- `exporterhelper`: Fix incorrect deduplication of otelcol_exporter_queue_size and otelcol_exporter_queue_capacity metrics if multiple exporters are used. ([#10444](https://github.com/open-telemetry/opentelemetry-collector/issues/10444))
- `prometheusreceiver`: Fix hash computation to include non exported fields like regex in scrape configuration for TargetAllocator ([#29313](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/29313))
- `syslogreceiver`: Allow to define `max_octets` for octet counting RFC5424 syslog parser ([#33182](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33182))

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Added Hex() converter function ([#31929](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31929))
- `pkg/ottl`: Add IsRootSpan() converter function. ([#32918](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32918))
    Converter `IsRootSpan()` returns `true` if the span in the corresponding context is root, that means its `parent_span_id` equals to hexadecimal representation of zero. In all other scenarios function returns `false`.
- `pkg/ottl`: Emit traces for statement sequence executions to troubleshoot OTTL statements/conditions ([#33433](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33433))
- `receiver/filelog`: Add filelog.container.removeOriginalTimeField feature-flag for removing original time field ([#33946](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33946))
- `statsdreceiver`: Allow configuring summary percentiles ([#33701](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33701))

---

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `statsdreceiver`: Add statsd receiver to manifest (#229)
- `zipkinreceiver`: Added the zipkin receiver to the Dynatrace collector distro (#225)

## v0.9.0

This release includes version 0.104.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.104.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.104.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.104.0>

> [!WARNING]
> This release includes two important breaking changes:
> 
> 1. The `otlpreceiver`, `jaegerreceiver` and `healthcheckextension` will now use `localhost` by default instead of `0.0.0.0`. This may break the receivers when the sender is not running on the same host, particularly in containerized environments like Kubernetes. If you depend on `0.0.0.0` disable the `component.UseLocalHostAsDefaultHost` feature gate or explicitly set the endpoint to `0.0.0.0`.
>    For more details, check out the [OTel blog post](https://opentelemetry.io/blog/2024/hardening-the-collector-one).
> 2. Expansion of BASH-style environment variables, such as `$FOO` will no longer be supported by default. If you depend on this syntax, disable the `confmap.unifyEnvVarExpansion` feature gate, but know that the feature will be removed in the future in favor of `${env:FOO}`.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/ottl`: Changed ScopeContext, InstrumentationResourceContext, TransformContext interfaces to make SchemaURL accessible in resources and scopes on all signals ([#30229](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/30229))
- `filter`: Remove deprecated `filter.CombinedFilter` ([#10348](https://github.com/open-telemetry/opentelemetry-collector/issues/10348))
- `otelcol`: By default, `otelcol.NewCommand` and `otelcol.NewCommandMustSetProvider` will set the `DefaultScheme` to `env`. [#10435](https://github.com/open-telemetry/opentelemetry-collector/issues/10435))
- `otelcol`: The otelcol.NewCommand now requires at least one provider be set. ([#10436](https://github.com/open-telemetry/opentelemetry-collector/issues/10436))

### ðŸš© Deprecations ðŸš©

- `otelcol`: The `otelcol.NewCommandMustSetProvider` is deprecated. Use `otelcol.NewCommand` instead. ([#10436](https://github.com/open-telemetry/opentelemetry-collector/issues/10436))

### ðŸ’¡ Enhancements ðŸ’¡

- `k8sattributesprocessor`: Add support for exposing `k8s.pod.ip` as a resource attribute ([#32960](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32960))
- `debugexporter`: In `normal` verbosity, display one line of text for each telemetry record (log, data point, span) ([#7806](https://github.com/open-telemetry/opentelemetry-collector/issues/7806))
- `debugexporter`: Add option `use_internal_logger` ([#10226](https://github.com/open-telemetry/opentelemetry-collector/issues/10226))
- `debugexporter`: Print Span.TraceState() when present. ([#10421](https://github.com/open-telemetry/opentelemetry-collector/issues/10421))

### ðŸ§° Bug fixes ðŸ§°

- `resourcedetectionprocessor`: Fetch CPU info only if related attributes are enabled ([#33774](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33774))
- `tailsamplingprocessor`: Fix precedence of inverted match in and policy ([#33671](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33671))
  Previously if the decision from a policy evaluation was `NotSampled` or `InvertNotSampled` it would return a `NotSampled` decision regardless, effectively downgrading the result.
  This was breaking the documented behaviour that inverted decisions should take precedence over all others.
- `otlpexporter`: Update validation to support both dns:// and dns:/// ([#10449](https://github.com/open-telemetry/opentelemetry-collector/issues/10449))
- `service`: Fixed a bug that caused otel-collector to fail to start with ipv6 metrics endpoint service telemetry. ([#10011](https://github.com/open-telemetry/opentelemetry-collector/issues/10011))
  
---

</details>

## v0.8.0

This release includes version 0.103.0 of the upstream Collector components.

*NOTE:* This release is in line with the upstream distributions of the Collector version 0.103.1, which is based on the same
0.103.0 upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.103.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.103.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.103.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `exporter/debug`: Disable sampling by default ([#9921](https://github.com/open-telemetry/opentelemetry-collector/issues/9921)).
  To restore the behavior that was previously the default, set `sampling_thereafter` to `500`.

### ðŸš© Deprecations ðŸš© ###

- `healthcheckextension`: Remove incorrect logic behind `check_collector_pipeline` config ([#33469](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33469)).
  This logic incorrectly set the pipeline to OK after waiting for enough callbacks from the
  opencensus library to be called. As this was broken, I'm removing it to remove the dependency
  on opencensus as well. Improvements will be available via healthcheckv2 extension.


### ðŸ§° Bug fixes ðŸ§°

- `filelogreceiver`: Container parser should add k8s metadata as resource attributes and not as log record attributes ([#33341](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33341))
- `prometheusreceiver`: Fall back to scrape config job/instance labels for aggregated metrics without instance/job labels ([#32555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32555))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `examples`: Added an example for using the syslog receiver, as well as integration tests for the added example. (#136)

## v0.7.0

This release includes version 0.102.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

0.102.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.102.1>
- (no changes/patch release for opentelemetry-collector-contrib)

0.102.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.102.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.102.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### This release addresses CVE-2024-36129 ([GHSA-c74f-6mfw-mm4v](https://github.com/open-telemetry/opentelemetry-collector/security/advisories/GHSA-c74f-6mfw-mm4v)) fully

### ðŸ›‘ Breaking changes ðŸ›‘

- `envprovider`: Restricts Environment Variable names.  Environment variable names must now be ASCII only and start with a letter or an underscore, and can only contain underscores, letters, or numbers. ([#9531](https://github.com/open-telemetry/opentelemetry-collector/issues/9531))
- `confighttp`: Apply MaxRequestBodySize to the result of a decompressed body ([#10289](https://github.com/open-telemetry/opentelemetry-collector/pull/10289))
  When using compressed payloads, the Collector would verify only the size of the compressed payload. 
  This change applies the same restriction to the decompressed content. As a security measure, a limit of 20 MiB was added, which makes this a breaking change. 
  For most clients, this shouldn't be a problem, but if you often have payloads that decompress to more than 20 MiB, you might want to either configure your
  client to send smaller batches (recommended), or increase the limit using the MaxRequestBodySize option.
- `k8sattributesprocessor`: Move `k8sattr.rfc3339` feature gate to stable. ([#33304](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33304))

### ðŸ§° Bug fixes ðŸ§°

- `batchprocessor`: ensure attributes are set on cardinality metadata metric ([#9674](https://github.com/open-telemetry/opentelemetry-collector/issues/9674))
- `batchprocessor`: Fixing processor_batch_metadata_cardinality which was broken in v0.101.0 ([#10231](https://github.com/open-telemetry/opentelemetry-collector/issues/10231))
- `batchprocessor`: respect telemetry level for all metrics ([#10234](https://github.com/open-telemetry/opentelemetry-collector/pull/10234))
- `configrpc`: Use own compressors for zstd (#10323)
   Before this change, the zstd compressor we used didn't respect the max message size. This addresses CVE-2024-36129 (GHSA-c74f-6mfw-mm4v) on `configgrpc`.

---

</details>

## v0.6.0

This release includes version 0.101.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.101.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.101.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.101.0>

<details>

<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `filelog, journald, tcp, udp, syslog, windowseventlog receivers`: The internal logger has been changed from zap.SugaredLogger to zap.Logger. ([#32177](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32177))
This should not have any meaningful impact on most users but the logging format for some logs may have changed.

### ðŸ’¡ Enhancements ðŸ’¡

- `filelogreceiver`: Add container operator parser ([#31959](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31959))
- `resourcedetectionprocessor`: Support GCP Bare Metal Solution in resource detection processor. ([#32985](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32985))
- `processor/transform`: Allow common where clause ([#27830](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/27830))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- Add section to list which container registries are available to pull images from ([#188](https://github.com/Dynatrace/dynatrace-otel-collector/pull/188))
- Use chloggen to generate changelog entries ([#191](https://github.com/Dynatrace/dynatrace-otel-collector/pull/191))
