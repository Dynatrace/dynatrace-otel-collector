<!-- This file is autogenerated. See CONTRIBUTING.md for instructions to add an entry. -->

# Changelog

<!-- next version -->

## v0.13.0

This release includes version XX.YY.ZZ of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

vXX.YY.ZZ:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/vXX.YY.ZZ>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/vXX.YY.ZZ>

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>
-

</details>

### ðŸš€ New components ðŸš€

- `redactionprocessor`: Added the redaction processor to the Dynatrace collector distro. (#275)

## v0.12.0

This release includes version 0.107.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.107.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.107.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.107.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>

### ðŸ›‘ Breaking changes ðŸ›‘

- `confmap`: Set the `confmap.unifyEnvVarExpansion` feature gate to Stable. Expansion of `$FOO` env vars is no longer supported.  Use `${FOO}` or `${env:FOO}` instead. (open-telemetry/opentelemetry-collector#10508)
- `filelogreceiver`: Check for unsupported fractional seconds directive when converting strptime time layout to native format (open-telemetry/opentelemetry-collector-contrib#34390)
- `fluentforwardreceiver`: Update the scope name for telemetry produced by the fluentforwardreceiver from `otelcol/fluentforwardreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/fluentforwardreceiver` (open-telemetry/opentelemetry-collector-contrib#34534)
- `hostmetricsreceiver`: Update the scope name for telemetry produced by the hostmetrics receiver's scrapers from `otelcol/hostmetricsreceiver/*` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/hostmetricsreceiver/internal/scraper/*` (open-telemetry/opentelemetry-collector-contrib#34526)
- `prometheusreceiver`: Update the scope name for telemetry produced by the prometheusreceiver from `otelcol/prometheusreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/prometheusreceiver (open-telemetry/opentelemetry-collector-contrib#34589)
- `statsdreceiver`: Update the scope name for telemetry produced by the statsdreceiver from `otelcol/statsdreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/statsdreceiver` (open-telemetry/opentelemetry-collector-contrib#34547)
- `k8sattributesprocessor`: Update the scope name for telemetry produced by the k8sattributesprocessor from `otelcol/k8sattributes` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/k8sattributesprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `filterprocessor`: Update the scope name for telemetry produced by the filterprocessor from `otelcol/filter` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/filterprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `probabilisticsamplerprocessor`: Update the scope name for telemetry produced by the probabilisticsamplerprocessor from `otelcol/probabilisticsampler` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/probabilisticsamplerprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `tailsamplingprocessor`: Update the scope name for telemetry produced by the tailsamplingprocessor from `otelcol/tailsampling` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/tailsamplingprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)

### ðŸ’¡ Enhancements ðŸ’¡

- `confmap`: Allow using any YAML structure as a string when loading configuration. (open-telemetry/opentelemetry-collector#10800)
  Previous to this change, slices could not be used as strings in configuration.
- `semconv`: Add v1.26.0 semantic conventions package (open-telemetry/opentelemetry-collector#10249, open-telemetry/opentelemetry-collector#10829)
- `semconv`: Add semantic conventions version v1.27.0 (open-telemetry/opentelemetry-collector#10837)
- `hostmetricsreceiver`: add reporting interval to entity event (open-telemetry/opentelemetry-collector-contrib#34240)
- `processor/k8sattributes`: Add support for `container.image.repo_digests` metadata (open-telemetry/opentelemetry-collector-contrib#34029)

### ðŸ§° Bug fixes ðŸ§°

- `configtelemetry`: Add 10s read header timeout on the configtelemetry Prometheus HTTP server. (open-telemetry/opentelemetry-collector#5699)
- `service`: Allow users to disable the tracer provider via the feature gate `service.noopTracerProvider` (open-telemetry/opentelemetry-collector#10858)
  The service is returning an instance of a SDK tracer provider regardless of whether there were any processors configured causing resources to be consumed unnecessarily.
- `processorhelper`: Fix processor metrics not being reported initially with 0 values. (open-telemetry/opentelemetry-collector#10855)
- `service`: Implement the `temporality_preference` setting for internal telemetry exported via OTLP (open-telemetry/opentelemetry-collector#10745)
- `configauth`: Fix unmarshaling of authentication in HTTP servers. (open-telemetry/opentelemetry-collector#10750)
- `confmap`: If loading an invalid YAML string through a provider, use it verbatim instead of erroring out. (open-telemetry/opentelemetry-collector#10759)
  This makes the ${env:ENV} syntax closer to how ${ENV} worked before unifying syntaxes.
  
- `component`: Allow component names of up to 1024 characters in length. (open-telemetry/opentelemetry-collector#10816)
- `confmap`: Remove original string representation if invalid. (open-telemetry/opentelemetry-collector#10787)

</details>

### ðŸ§° Bug fixes ðŸ§°

- `release`: Add missing dependency to /bin/sh to the RPM linux package (#264)

## v0.11.0

This release includes version 0.106.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.106.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.106.1>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.106.1>

v0.106.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.106.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.106.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>

### ðŸš© Deprecations ðŸš©

- `k8sattributesprocessor`: Deprecate `extract.annotations.regex` and `extract.labels.regex` config fields in favor of the `ExtractPatterns` function in the transform processor. The `FieldExtractConfig.Regex` parameter will be removed in version v0.111.0. (open-telemetry/opentelemetry-collector-contrib#25128)
  Deprecating of FieldExtractConfig.Regex parameter means that it is recommended to use the `ExtractPatterns` function from the transform processor instead. To convert your current configuration please check the `ExtractPatterns` function [documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/pkg/ottl/ottlfuncs#extractpatterns). You should use the `pattern` parameter of `ExtractPatterns` instead of using the `FieldExtractConfig.Regex` parameter.

### ðŸ’¡ Enhancements ðŸ’¡

- `confighttp`: Add option to include query params in auth context (open-telemetry/opentelemetry-collector#4806)
- `configgrpc`: gRPC auth errors now return gRPC status code UNAUTHENTICATED (16) (open-telemetry/opentelemetry-collector#7646)
- `httpprovider`, `httpsprovider`: Validate URIs in HTTP and HTTPS providers before fetching. (open-telemetry/opentelemetry-collector#10468)
- `processor/transform`: Add `scale_metric` function that scales all data points in a metric. (open-telemetry/opentelemetry-collector-contrib#16214)
- `transformprocessor`: Support aggregating metrics based on their attributes. (open-telemetry/opentelemetry-collector-contrib#16224)
- `pkg/ottl`: Adds an `Format` function to OTTL that calls `fmt.Sprintf` (open-telemetry/opentelemetry-collector-contrib#33405)

</details>

### ðŸ’¡ Enhancements ðŸ’¡

- `release`: Add version number to all release artifacts (#245)
  All collector distribution artifacts now include the version number in their filename.
  
- `release`: Release as Linux service for multiple Linux distros (#241)
  The collector distribution is now available as linux packages (.rpm and .deb).
  

## v0.10.0

This release includes version 0.105.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.105.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.105.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.105.0>

### ðŸš€ New components ðŸš€

- `statsdreceiver`: Add statsd receiver to manifest (#229)
- `zipkinreceiver`: Added the zipkin receiver to the Dynatrace collector distro (#225)

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service`: add `service.disableOpenCensusBridge` feature gate which is enabled by default to remove the dependency on OpenCensus ([#10414](https://github.com/open-telemetry/opentelemetry-collector/issues/10414))
- `confmap`: Promote `confmap.strictlyTypedInput` feature gate to beta. ([#10552](https://github.com/open-telemetry/opentelemetry-collector/issues/10552))
  
  This feature gate changes the following:

  - Configurations relying on the implicit type casting behaviors listed on [#9532](https://github.com/open-telemetry/opentelemetry-collector/issues/9532) will start to fail.
  - Configurations using URI expansion (i.e. `field: ${env:ENV}`) for string-typed fields will use the value passed in `ENV` verbatim without intermediate type casting.

- `stanza`: errors from Operator.Process are returned instead of silently ignored. ([#33783](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33783))
  This public function is affected: https://pkg.go.dev/github.com/open-telemetry/opentelemetry-collector-contrib/pkg/stanza@v0.104.0/operator/helper#WriterOperator.Write

### ðŸ§° Bug fixes ðŸ§°

- `confmap`: Fixes issue where confmap could not escape `$$` when `confmap.unifyEnvVarExpansion` is enabled. ([#10560](https://github.com/open-telemetry/opentelemetry-collector/pull/10560))
- `otlpreceiver`: Fixes a bug where the otlp receiver's http response was not properly translating grpc error codes to http status codes. ([#10574](https://github.com/open-telemetry/opentelemetry-collector/pull/10574))
- `service/telemetry`: Add ability to set service.name for spans emitted by the Collector ([#10489](https://github.com/open-telemetry/opentelemetry-collector/issues/10489))
- `internal/localhostgate`: Correctly log info message when `component.UseLocalHostAsDefaultHost` is enabled ([#8510](https://github.com/open-telemetry/opentelemetry-collector/issues/8510))
- `exporterhelper`: Fix incorrect deduplication of otelcol_exporter_queue_size and otelcol_exporter_queue_capacity metrics if multiple exporters are used. ([#10444](https://github.com/open-telemetry/opentelemetry-collector/issues/10444))
- `prometheusreceiver`: Fix hash computation to include non exported fields like regex in scrape configuration for TargetAllocator ([#29313](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/29313))
- `syslogreceiver`: Allow to define `max_octets` for octet counting RFC5424 syslog parser ([#33182](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33182))

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Added Hex() converter function ([#31929](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31929))
- `pkg/ottl`: Add IsRootSpan() converter function. ([#32918](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32918))
    Converter `IsRootSpan()` returns `true` if the span in the corresponding context is root, that means its `parent_span_id` equals to hexadecimal representation of zero. In all other scenarios function returns `false`.
- `pkg/ottl`: Emit traces for statement sequence executions to troubleshoot OTTL statements/conditions ([#33433](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33433))
- `receiver/filelog`: Add filelog.container.removeOriginalTimeField feature-flag for removing original time field ([#33946](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33946))
- `statsdreceiver`: Allow configuring summary percentiles ([#33701](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33701))

</details>

## v0.9.0

This release includes version 0.104.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.104.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.104.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.104.0>

> [!WARNING]
> This release includes two important breaking changes:
> 
> 1. The `otlpreceiver`, `jaegerreceiver` and `healthcheckextension` will now use `localhost` by default instead of `0.0.0.0`. This may break the receivers when the sender is not running on the same host, particularly in containerized environments like Kubernetes. If you depend on `0.0.0.0` disable the `component.UseLocalHostAsDefaultHost` feature gate or explicitly set the endpoint to `0.0.0.0`.
>    For more details, check out the [OTel blog post](https://opentelemetry.io/blog/2024/hardening-the-collector-one).
> 2. Expansion of BASH-style environment variables, such as `$FOO` will no longer be supported by default. If you depend on this syntax, disable the `confmap.unifyEnvVarExpansion` feature gate, but know that the feature will be removed in the future in favor of `${env:FOO}`.

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/ottl`: Changed ScopeContext, InstrumentationResourceContext, TransformContext interfaces to make SchemaURL accessible in resources and scopes on all signals ([#30229](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/30229))
- `filter`: Remove deprecated `filter.CombinedFilter` ([#10348](https://github.com/open-telemetry/opentelemetry-collector/issues/10348))
- `otelcol`: By default, `otelcol.NewCommand` and `otelcol.NewCommandMustSetProvider` will set the `DefaultScheme` to `env`. [#10435](https://github.com/open-telemetry/opentelemetry-collector/issues/10435))
- `otelcol`: The otelcol.NewCommand now requires at least one provider be set. ([#10436](https://github.com/open-telemetry/opentelemetry-collector/issues/10436))

### ðŸš© Deprecations ðŸš©

- `otelcol`: The `otelcol.NewCommandMustSetProvider` is deprecated. Use `otelcol.NewCommand` instead. ([#10436](https://github.com/open-telemetry/opentelemetry-collector/issues/10436))

### ðŸ’¡ Enhancements ðŸ’¡

- `k8sattributesprocessor`: Add support for exposing `k8s.pod.ip` as a resource attribute ([#32960](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32960))
- `debugexporter`: In `normal` verbosity, display one line of text for each telemetry record (log, data point, span) ([#7806](https://github.com/open-telemetry/opentelemetry-collector/issues/7806))
- `debugexporter`: Add option `use_internal_logger` ([#10226](https://github.com/open-telemetry/opentelemetry-collector/issues/10226))
- `debugexporter`: Print Span.TraceState() when present. ([#10421](https://github.com/open-telemetry/opentelemetry-collector/issues/10421))

### ðŸ§° Bug fixes ðŸ§°

- `resourcedetectionprocessor`: Fetch CPU info only if related attributes are enabled ([#33774](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33774))
- `tailsamplingprocessor`: Fix precedence of inverted match in and policy ([#33671](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33671))
  Previously if the decision from a policy evaluation was `NotSampled` or `InvertNotSampled` it would return a `NotSampled` decision regardless, effectively downgrading the result.
  This was breaking the documented behaviour that inverted decisions should take precedence over all others.
- `otlpexporter`: Update validation to support both dns:// and dns:/// ([#10449](https://github.com/open-telemetry/opentelemetry-collector/issues/10449))
- `service`: Fixed a bug that caused otel-collector to fail to start with ipv6 metrics endpoint service telemetry. ([#10011](https://github.com/open-telemetry/opentelemetry-collector/issues/10011))
  
</details>

## v0.8.0

This release includes version 0.103.0 of the upstream Collector components.

*NOTE:* This release is in line with the upstream distributions of the Collector version 0.103.1, which is based on the same
0.103.0 upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.103.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.103.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.103.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>

### ðŸ›‘ Breaking changes ðŸ›‘

- `exporter/debug`: Disable sampling by default ([#9921](https://github.com/open-telemetry/opentelemetry-collector/issues/9921)).
  To restore the behavior that was previously the default, set `sampling_thereafter` to `500`.

### ðŸš© Deprecations ðŸš© ###

- `healthcheckextension`: Remove incorrect logic behind `check_collector_pipeline` config ([#33469](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33469)).
  This logic incorrectly set the pipeline to OK after waiting for enough callbacks from the
  opencensus library to be called. As this was broken, I'm removing it to remove the dependency
  on opencensus as well. Improvements will be available via healthcheckv2 extension.


### ðŸ§° Bug fixes ðŸ§°

- `filelogreceiver`: Container parser should add k8s metadata as resource attributes and not as log record attributes ([#33341](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33341))
- `prometheusreceiver`: Fall back to scrape config job/instance labels for aggregated metrics without instance/job labels ([#32555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32555))

</details>

### ðŸ’¡ Enhancements ðŸ’¡

- `examples`: Added an example for using the syslog receiver, as well as integration tests for the added example. (#136)

## v0.7.0

This release includes version 0.102.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

0.102.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.102.1>
- (no changes/patch release for opentelemetry-collector-contrib)

0.102.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.102.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.102.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>
</br>

### This release addresses CVE-2024-36129 ([GHSA-c74f-6mfw-mm4v](https://github.com/open-telemetry/opentelemetry-collector/security/advisories/GHSA-c74f-6mfw-mm4v)) fully

### ðŸ›‘ Breaking changes ðŸ›‘

- `envprovider`: Restricts Environment Variable names.  Environment variable names must now be ASCII only and start with a letter or an underscore, and can only contain underscores, letters, or numbers. ([#9531](https://github.com/open-telemetry/opentelemetry-collector/issues/9531))
- `confighttp`: Apply MaxRequestBodySize to the result of a decompressed body ([#10289](https://github.com/open-telemetry/opentelemetry-collector/pull/10289))
  When using compressed payloads, the Collector would verify only the size of the compressed payload. 
  This change applies the same restriction to the decompressed content. As a security measure, a limit of 20 MiB was added, which makes this a breaking change. 
  For most clients, this shouldn't be a problem, but if you often have payloads that decompress to more than 20 MiB, you might want to either configure your
  client to send smaller batches (recommended), or increase the limit using the MaxRequestBodySize option.
- `k8sattributesprocessor`: Move `k8sattr.rfc3339` feature gate to stable. ([#33304](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33304))

### ðŸ§° Bug fixes ðŸ§°

- `batchprocessor`: ensure attributes are set on cardinality metadata metric ([#9674](https://github.com/open-telemetry/opentelemetry-collector/issues/9674))
- `batchprocessor`: Fixing processor_batch_metadata_cardinality which was broken in v0.101.0 ([#10231](https://github.com/open-telemetry/opentelemetry-collector/issues/10231))
- `batchprocessor`: respect telemetry level for all metrics ([#10234](https://github.com/open-telemetry/opentelemetry-collector/pull/10234))
- `configrpc`: Use own compressors for zstd (#10323)
   Before this change, the zstd compressor we used didn't respect the max message size. This addresses CVE-2024-36129 (GHSA-c74f-6mfw-mm4v) on `configgrpc`.

</details>

## v0.6.0

This release includes version 0.101.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.101.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.101.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.101.0>

<details>

<summary>Highlights from the upstream Collector changelog</summary>
</br>

### ðŸ›‘ Breaking changes ðŸ›‘

- `filelog, journald, tcp, udp, syslog, windowseventlog receivers`: The internal logger has been changed from zap.SugaredLogger to zap.Logger. ([#32177](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32177))
This should not have any meaningful impact on most users but the logging format for some logs may have changed.

### ðŸ’¡ Enhancements ðŸ’¡

- `filelogreceiver`: Add container operator parser ([#31959](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31959))
- `resourcedetectionprocessor`: Support GCP Bare Metal Solution in resource detection processor. ([#32985](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32985))
- `processor/transform`: Allow common where clause ([#27830](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/27830))

</details>

### ðŸ’¡ Enhancements ðŸ’¡

- Add section to list which container registries are available to pull images from ([#188](https://github.com/Dynatrace/dynatrace-otel-collector/pull/188))
- Use chloggen to generate changelog entries ([#191](https://github.com/Dynatrace/dynatrace-otel-collector/pull/191))
