<!-- This file is autogenerated. See CONTRIBUTING.md for instructions to add an entry. -->

# Changelog

<!-- next version -->

## v0.42.0

This release includes version 0.142.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.142.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.142.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.142.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/exporterhelper`: Use `configoptional.Optional` for the `exporterhelper.QueueBatchConfig` ([#14155](https://github.com/open-telemetry/opentelemetry-collector/issues/14155))
  It's recommended to change the field type in your component configuration to be `configoptional.Optional[exporterhelper.QueueBatchConfig]` to keep the `enabled` subfield. Use configoptional.Some(exporterhelper.NewDefaultQueueConfig()) to enable by default. Use configoptional.Default(exporterhelper.NewDefaultQueueConfig()) to disable by default.

- `all`: It's recommended to change the field type in your component configuration to be `configoptional.Optional[exporterhelper.QueueBatchConfig]` to keep the `enabled` subfield. Use configoptional.Some(exporterhelper.NewDefaultQueueConfig()) to enable by default. Use configoptional.Default(exporterhelper.NewDefaultQueueConfig()) to disable by default. ([#44320](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44320))

- `pkg/stanza`: Allow `max_batch_size` of 0 for unlimited batching in `recombine` operator ([#43982](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43982))
  The recombine operator now supports setting `max_batch_size: 0` to disable batch size limits.
  This allows unlimited batching, letting entries be combined based only on `max_log_size` and matching conditions.
  If you have `max_batch_size: 0` in your config and want to keep the behavior unchanged, change the configuration to `max_batch_size: 1`.
  
- `processor/cumulativetodelta`: Change default `max_staleness` from 0 (infinite) to 1 hour ([#44427](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44427))
  The processor now defaults to a `max_staleness` of 1 hour instead of 0 (infinite retention).
  This prevents unbounded memory growth in long-running collector instances, especially when tracking metrics with high cardinality or frequently changing attribute values.
  To restore the previous behavior of infinite retention, explicitly set `max_staleness: 0` in your configuration.
  
- `processor/resourcedetection`: Promote `processor.resourcedetection.propagateerrors` feature gate to beta ([#44609](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44609))
- `processor/resourcedetection`: Remove deprecated `attributes` configuration option ([#44610](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44610))
- `receiver/filelog`: Move `filelog.decompressFingerprint` to stable stage ([#44570](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44570))
- `receiver/prometheus`: Promote the receiver.prometheusreceiver.RemoveStartTimeAdjustment feature gate to stable and remove in-receiver metric start time adjustment in favor of the metricstarttime processor, including disabling the created-metric feature gate. ([#44180](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44180))
  Previously, users could disable the RemoveStartTimeAdjustment feature gate to temporarily keep the legacy start time adjustment behavior in the Prometheus receiver.
  With this promotion to stable and bounded registration, that gate can no longer be disabled; the receiver will no longer set StartTime on metrics based on process_start_time_seconds, and users should migrate to the metricstarttime processor for equivalent functionality.
  This change also disables the receiver.prometheusreceiver.UseCreatedMetric feature gate, which previously used the `<metric>_created` series to derive start timestamps for counters, summaries, and histograms when scraping non OpenMetrics protocols.
  However, this does not mean that the `_created` series is always ignored: when using the OpenMetrics 1.0 protocol, Prometheus itself continues to interpret the `_created` series as the start timestamp, so only the receiver-side handling for other scrape protocols has been removed.
  
- `receiver/prometheus`: Native histogram scraping and ingestion is now controlled by the scrape configuration option `scrape_native_histograms`. ([#44861](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44861))
  The feature gate `receiver.prometheusreceiver.EnableNativeHistograms` is now stable and enabled by default.
  Native histograms scraped from Prometheus will automatically be converted to OpenTelemetry exponential histograms.
  
  To enable scraping of native histograms, you must configure `scrape_native_histograms: true` in your Prometheus
  scrape configuration (either globally or per-job). Additionally, the protobuf scrape protocol must be enabled
  by setting `scrape_protocols` to include `PrometheusProto`.
  
### ðŸš© Deprecations ðŸš©

- `pkg/service`: Deprecate Settings.LoggingOptions and telemetry.LoggerSettings.ZapOptions, add telemetry.LoggerSettings.BuildZapLogger ([#14002](https://github.com/open-telemetry/opentelemetry-collector/issues/14002))
  BuildZapLogger provides a more flexible way to build the Zap logger,
  since the function will have access to the zap.Config. This is used
  in otelcol to install a Windows Event Log output when the zap config
  does not specify any file output.

- `pkg/ottl`: Use pointer when passing TransformContext around or calling into. ([#44541](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44541))
  Change Expr/Parser/Getter/Setter and all ottl related funcs to accept pointers to avoid unnecessary copy of a large
  TransformContext(96B). Avoid allocating a new pcommon.Map every time a new context is created by using a Borrow/Return
  pattern and reuse objects between calls. Deprecated funcs are:
  - `ottldatapoint.NewTransformContext` in favor of `ottldatapoint.NewTransformContextPtr`;
  - `ottllog.NewTransformContext` in favor of `ottllog.NewTransformContextPtr`;
  - `ottlmetric.NewTransformContext` in favor of `ottlmetric.NewTransformContextPtr`;
  - `ottlspan.NewTransformContext` in favor of `ottlspan.NewTransformContextPtr`;
  - `ottlspanevent.NewTransformContext` in favor of `ottlspanevent.NewTransformContextPtr`;
  - `filterprocessor.WithResourceFunctions` in favor of `filterprocessor.WithResourceFunctionsNew`
  - `filterprocessor.DefaultDataPointFunctions` in favor of `filtermprocessor.DefaultDataPointFunctionsNew`
  - `filterprocessor.WithDataPointFunctions` in favor of `filterprocessor.WithDataPointFunctionsNew`
  - `filterprocessor.DefaultLogFunctions` in favor of `filterprocessor.DefaultLogFunctionsNew`
  - `filterprocessor.WithLogFunctions` in favor of `filterprocessor.WithLogFunctionsNew`
  - `filterprocessor.DefaultMetricFunctions` in favor of `filterprocessor.DefaultMetricFunctionsNew`
  - `filterprocessor.WithMetricFunctions` in favor of `filterprocessor.WithMetricFunctionsNew`
  - `filterprocessor.DefaultSpanFunctions` in favor of `filterprocessor.DefaultSpanFunctionsNew`
  - `filterprocessor.WithSpanFunctions` in favor of `filterprocessor.WithSpanFunctionsNew`
  - `filtermprocessor.DefaultSpanEventFunctions` in favor of `filtermprocessor.DefaultSpanEventFunctionsNew`
  - `filtermprocessor.WithSpanEventFunctions` in favor of `filtermprocessor.WithSpanEventFunctionsNew`
  - `transformprocessor.DefaultDataPointFunctions` in favor of `transformprocessor.DefaultDataPointFunctionsNew`
  - `transformprocessor.WithDataPointFunctions` in favor of `transformprocessor.WithDataPointFunctionsNew`
  - `transformprocessor.DefaultLogFunctions` in favor of `transformprocessor.DefaultLogFunctionsNew`
  - `transformprocessor.WithLogFunctions` in favor of `transformprocessor.WithLogFunctionsNew`
  - `transformprocessor.DefaultMetricFunctions` in favor of `transformprocessor.DefaultMetricFunctionsNew`
  - `transformprocessor.WithMetricFunctions` in favor of `transformprocessor.WithMetricFunctionsNew`
  - `transformprocessor.DefaultSpanFunctions` in favor of `transformprocessor.DefaultSpanFunctionsNew`
  - `transformprocessor.WithSpanFunctions` in favor of `transformprocessor.WithSpanFunctionsNew`
  - `transformprocessor.DefaultSpanEventFunctions` in favor of `transformprocessor.DefaultSpanEventFunctionsNew`
  - `transformprocessor.WithSpanEventFunctions` in favor of `transformprocessor.WithSpanEventFunctionsNew`

- `processor/k8sattributes`: Removes stable k8sattr.fieldExtractConfigRegex.disallow feature gate ([#44694](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44694))
- `receiver/kafka`: Deprecate `default_fetch_size` parameter for franz-go client ([#43104](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43104))
  The `default_fetch_size` parameter is now deprecated for the franz-go Kafka client and will only be used with the legacy Sarama client.
  Users should configure `max_fetch_size` instead when using franz-go.
  This deprecation is marked as of v0.142.0.
  
- `receiver/kafka`: Support configuring a list of topics and exclude_topics; deprecate topic and exclude_topic ([#44477](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44477))
- `receiver/prometheus`: Deprecate `use_start_time_metric` and `start_time_metric_regex` config in favor of the processor `metricstarttime` ([#44180](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44180))

### ðŸ§° Bug fixes ðŸ§°

- `pkg/confmap`: Ensure that embedded structs are not overwritten after Unmarshal is called ([#14213](https://github.com/open-telemetry/opentelemetry-collector/issues/14213))
  This allows embedding structs which implement Unmarshal and contain a configopaque.String.

- `processor/cumulativetodelta`: Check whether bucket bounds are the same when verifying whether histograms are comparable ([#44793](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44793))
- `processor/cumulativetodelta`: Fix logic handling ZeroThreshold increases for exponential histograms ([#44793](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44793))
- `processor/filter`: Fix context initialization for metric/datapoint context ([#44813](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44813))
- `processor/k8sattributes`: Fix `k8sattr.labelsAnnotationsSingular.allow` feature gate to affect config default tag names in addition to runtime extraction ([#39774](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39774))
- `processor/tail_sampling`: Fix a memory leak introduced in 0.141.0 of the tail sampling processor when not blocking on overflow. ([#44884](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44884))  
- `receiver/kafka`: Use `max_fetch_size` instead of `default_fetch_size` in franz-go client ([#43104](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43104))
  The franz-go Kafka consumer was incorrectly using `default_fetch_size` (a Sarama-specific setting) instead of `max_fetch_size` when configuring `kgo.FetchMaxBytes`.
  This fix ensures the correct parameter is used and adds validation to prevent `max_fetch_size` from being less than `min_fetch_size`.
  The default value for `max_fetch_size` has been changed from 0 (unlimited) to 1048576 (1 MiB) to maintain backward compatibility with the previous (incorrect) behavior.
  
- `receiver/prometheus`: Fix HTTP response body leak in target allocator when fetching scrape configs fails ([#44921](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44921))
  The getScrapeConfigsResponse function did not close resp.Body on error paths.
  If io.ReadAll or yaml.Unmarshal failed, the response body would leak,
  potentially causing HTTP connection exhaustion.
  
- `receiver/prometheus`: Fixes yaml marshaling of prometheus/common/config.Secret types ([#44445](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44445))

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/debug`: Add logging of dropped attributes, events, and links counts in detailed verbosity ([#14202](https://github.com/open-telemetry/opentelemetry-collector/issues/14202))
- `extension/memory_limiter`: The memorylimiter extension can be used as an HTTP/GRPC middleware. ([#14081](https://github.com/open-telemetry/opentelemetry-collector/issues/14081))
- `pkg/config/configgrpc`: Statically validate gRPC endpoint ([#10451](https://github.com/open-telemetry/opentelemetry-collector/issues/10451))
  This validation was already done in the OTLP exporter. It will now be applied to any gRPC client.
  
- `pkg/service`: Add support to disabling adding resource attributes as zap fields in internal logging ([#13869](https://github.com/open-telemetry/opentelemetry-collector/issues/13869))
  Note that this does not affect logs exported through OTLP.

- `pkg/ottl`: Add PSliceGetSetter interface to allow OTTL functions to accept typed accessors for `pcommon.Slice` paths. ([#44421](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44421))
- `exporter/kafka`: Adds server.address attribute to all Kafka exporter metrics. ([#44649](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44649))
- `extension/health_check`: Added extension.healthcheck.useComponentStatus feature gate to enable v2 component status reporting in healthcheckextension while maintaining backward compatibility by default. ([#42256](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42256))
- `pkg/ottl`: Accept string trace/span/profile IDs for `TraceID()`, `SpanID()`, and `ProfileID()` in OTTL. ([#43429](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43429))
  This change allows for a more straightforward use of string values to set trace, span, and profile IDs in OTTL.
- `pkg/stanza`: New featuregate `filelog.windows.caseInsensitive` introduced. It will make glob matching is case-insensitive on Windows. ([#40685](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40685))
  Previously, any `include` pattern that included some manner of wildcard (`*` or `**`) would
  be case-sensitive on Windows, but Windows filepaths are by default case-insensitive. This meant
  that in a directory with the files `a.log` and `b.LOG`, the pattern `*.log` would previously only
  match `a.log`. With the `filelog.windows.caseInsensitive` featuregate enabled, it will match both `a.log`
  and `b.LOG` when on Windows. The behaviour is the same as always on other operating systems, as all other
  currently supported platforms for the Collector have case-sensitive filesystems.
  
- `processor/k8sattributes`: Updates semconv version to v1.37.0 ([#44696](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44696))
- `processor/resourcedetection`: Add support for dynamic refresh resource attributes with refresh_interval parameter ([#42663](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42663))
- `processor/resourcedetection`: Update semconv dependency to 1.37.0 which updates the schema url in the data, but no other impact is expected. ([#44726](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44726))
- `processor/transform`: New Transform Processor function `set_semconv_span_name()` to overwrite the span name with the semantic conventions for HTTP, RPC, messaging, and database spans. ([#43124](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43124))
  In other cases, the original `span.name` is unchanged.
  The primary use of `set_semconv_span_name()` is alongside the
  [Span Metrics Connector](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/connector/spanmetricsconnector)
  to address high-cardinality issues in span metrics when `span.name` does not comply with the OTel requirement
  that span names be low cardinality.

- `receiver/kafka`: Make `session_timeout`, `heartbeat_interval`, `max_partition_fetch_size`, and `max_fetch_wait` unconditional in franz-go consumer ([#44839](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44839))
- `receiver/kafka`: Validate that `exclude_topics` entries in kafkareceiver config are non-empty. ([#44920](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44920))

---

</details>

<!-- previous-version -->

## v0.41.0

This release includes version 0.141.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.141.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.141.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.141.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `connector/spanmetrics`: Add a feature gate to use the latest semantic conventions for the status code attribute on generated metrics.

  This feature gate will replace the `status.code` attribute on the generated RED metrics with `otel.status_code`. It will also replace the values `STATUS_CODE_ERROR` and `STATUS_CODE_OK` with `ERROR` and `OK` to align with the latest conventions. ([#42103](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42103))
  This change is made to align with [the latest semantic conventions](https://opentelemetry.io/docs/specs/semconv/registry/attributes/otel/#otel-status-code). The feature gate is disabled by default, but can be enabled with `--feature-gates spanmetrics.statusCodeConvention.useOtelPrefix` or explicitly disabled with `--feature-gates -spanmetrics.statusCodeConvention.useOtelPrefix`.
- `exporter/kafka`: `exporter.kafkaexporter.UseFranzGo` feature gate moved to Stable and is now always enabled ([#44565](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44565))
  The franz-go client is now the default and only Kafka client library for the Kafka exporter.
  The feature gate `exporter.kafkaexporter.UseFranzGo` has been promoted to Stable status and cannot be disabled.
  Users can no longer opt out of using the franz-go client in favor of the legacy Sarama client.
  The Sarama client and the feature gate will be removed completely after v0.143.0.
  
- `receiver/kafka`: Remove deprecated topic and encoding ([#44568](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44568))
- `receiver/kafka`: `receiver.kafkareceiver.UseFranzGo` feature gate moved to Stable and is now always enabled ([#44564](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44564))
  The franz-go client is now the default and only Kafka client library for the Kafka receiver.
  The feature gate `receiver.kafkareceiver.UseFranzGo` has been promoted to Stable status and cannot be disabled.
  Users can no longer opt out of using the franz-go client in favor of the legacy Sarama client.
  The Sarama code and the feature gate will be removed completely after v0.143.0.

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/config/confighttp`: Setting `compression_algorithms` to an empty list now disables automatic decompression, ignoring Content-Encoding ([#14131](https://github.com/open-telemetry/opentelemetry-collector/issues/14131))
- `pkg/service`: Update semantic conventions from internal telemetry to v1.37.0 ([#14232](https://github.com/open-telemetry/opentelemetry-collector/issues/14232))
- `pkg/ottl`: Add `ParseSeverity` function to define mappings for log severity levels. ([#35778](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35778))
- `pkg/ottl`: Introduce `CommunityID` function to generate network hash (20-byte SHA1 digest) flow from the given source and destination {IP, port}, optionally protocol and seed values. ([#34062](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/34062))
- `pkg/ottl`: Expand usage of literal into typed getters and avoid unnecessary work ([#44201](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44201))
- `pkg/ottl`: SliceToMap: add support to convert slices with non-map elements to maps ([#43099](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43099))
- `processor/cumulativetodelta`: Add support for exponential histograms ([#44106](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44106))
- `processor/resourcedetection`: Use `osProfile.computerName` for setting `host.name` in Azure resource detection processor ([#43959](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43959))
- `receiver/k8s_events`: Allow more event types like Error and Critical which are typically used by applications when creating events. ([#43401](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43401))
  k8seventsreceiver allows event types Error and Critical in addition to the current Normal and Warning event types.
- `receiver/kafka`: Add support for exclude topics when consuming topics with a regex pattern ([#43782](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43782))
- `receiver/prometheus`: Support JWT Profile for Authorization Grant (RFC 7523 3.1) ([#44381](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44381))

### ðŸ§° Bug fixes ðŸ§°

- `pkg/ottl`: Fixed OTTL grammar to treat the string literal "nil" as ordinary text instead of a nil value. ([#44374](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44374))
- `pkg/ottl`: Return errors when OTTL context setters receive values of the wrong type ([#40198](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40198))
  Introduces `ctxutil.ExpectType` and updates log, metric, and scope setters to surface type assertion failures.
  
- `pkg/ottl`: Fix TrimPrefix/TrimSuffix function name. ([#44630](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44630))
  This change also adds a featuregate "ottl.PanicDuplicateName" to control the behavior of panicing when duplicate
  names are registered for the same function.
  
- `processor/k8sattributes`: `k8sattributesprocessor` now respects semantic convention resolution order for `service.namespace` ([#43919](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43919))
  Previously, when `service.namespace` was included in the extract metadata configuration, the processor
  would incorrectly allow `k8s.namespace.name` to override explicitly configured service namespace values
  from OpenTelemetry annotations (e.g., `resource.opentelemetry.io/service.namespace`). Now the processor
  correctly follows the semantic convention resolution order, where annotation values take precedence over
  inferred Kubernetes namespace names.
  
- `processor/k8sattributes`: Fix incorrect pod metadata assignment when `host.name` contains a non-IP hostname ([#43938](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43938))
  The processor now correctly validates that `host.name` contains an IP address before using it for pod association.
  Previously, textual hostnames were incorrectly used for pod lookups, causing spans and metrics from one workload
  to receive metadata from unrelated pods that shared the same hostname.

### ðŸš© Deprecations ðŸš©

- `receiver/prometheus`: Add feature gate for extra scrape metrics in Prometheus receiver ([#44181](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44181))
  deprecation of extra scrape metrics in Prometheus receiver will be removed eventually.

---

</details>

#### Dynatrace distribution changelog:

### ðŸ›‘ Breaking changes ðŸ›‘

- `receiver/prometheus`: It is now required to use the `metricstarttime`
  processor in all pipelines using the Prometheus Receiver. Please [see our
  documentation](https://docs.dynatrace.com/docs/shortlink/otel-collector-cases-prometheus)
  for more information.

### ðŸ’¡ Enhancements ðŸ’¡

- `metricstarttimeprocessor`: Add the Metric Start Time Processor to the distribution (#752)
  It is required to use this processor in any pipelines that use the
  Prometheus receiver.
  

<!-- previous-version -->

## v0.40.0

This release includes versions 0.139, 0.140.0 and 0.140.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.139.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.139.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.139.0>

v0.140.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.140.0>

v0.140.1:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.140.1>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `all`: Change type of `configgrpc.ClientConfig.Headers`, `confighttp.ClientConfig.Headers`, and `confighttp.ServerConfig.ResponseHeaders` ([#13930](https://github.com/open-telemetry/opentelemetry-collector/issues/13930))
  `configopaque.MapList` is a new alternative to `map[string]configopaque.String` which can unmarshal
  both maps and lists of name/value pairs.
  
  For example, if `headers` is a field of type `configopaque.MapList`,
  then the following YAML configs will unmarshal to the same thing:
  ```yaml
  headers:
    "foo": "bar"
  
  headers:
  - name: "foo"
    value: "bar"
  ```

- `all`: Latest supported k8s version is moved from 1.17 to 1.21. ([#43891](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43891))
- `processor/tail_sampling`: Replace policy latency metric with total time spent executing specific sampling policy. ([#42620](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42620))
  The existing latency metric was misleading and expensive to compute. The new cpu time metric can be used to find expensive policies instead.
- `receiver/prometheus`: The prometheus receiver no longer adjusts the start time of metrics by default. ([#43656](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43656))
  Disable the receiver.prometheusreceiver.RemoveStartTimeAdjustment | feature gate to temporarily re-enable this functionality. Users that need | this functionality should migrate to the metricstarttime processor, | and use the true_reset strategy for equivalent behavior.

### ðŸ’¡ Enhancements ðŸ’¡

- `connector/forward`: Add support for Profiles to Profiles ([#14092](https://github.com/open-telemetry/opentelemetry-collector/issues/14092))
- `exporter/debug`: Disable sending queue by default ([#14138](https://github.com/open-telemetry/opentelemetry-collector/issues/14138))
  The recently added sending queue configuration in Debug exporter was enabled by default and had a problematic default size of 1.
  This change disables the sending queue by default.
  Users can enable and configure the sending queue if needed.
  
- `pkg/config/configoptional`: Mark `configoptional.AddEnabledField` as beta ([#14021](https://github.com/open-telemetry/opentelemetry-collector/issues/14021))
- `pkg/pdata`: Upgrade the OTLP protobuf definitions to version 1.9.0 ([#14128](https://github.com/open-telemetry/opentelemetry-collector/issues/14128))
- `all`: Add FIPS and non-FIPS implementations for allowed TLS curves ([#13990](https://github.com/open-telemetry/opentelemetry-collector/issues/13990))
- `cmd/builder`: Set CGO_ENABLED=0 by default, add the `cgo_enabled` configuration to enable it. ([#10028](https://github.com/open-telemetry/opentelemetry-collector/issues/10028))
- `pkg/config/configgrpc`: Errors of type status.Status returned from an Authenticator extension are being propagated as is to the upstream client. ([#14005](https://github.com/open-telemetry/opentelemetry-collector/issues/14005))
- `pkg/config/configoptional`: Adds new `configoptional.AddEnabledField` feature gate that allows users to explicitly disable a `configoptional.Optional` through a new `enabled` field. ([#14021](https://github.com/open-telemetry/opentelemetry-collector/issues/14021))
- `pkg/exporterhelper`: Replace usage of gogo proto for persistent queue metadata ([#14079](https://github.com/open-telemetry/opentelemetry-collector/issues/14079))
- `pkg/pdata`: Remove usage of gogo proto and generate the structs with pdatagen ([#14078](https://github.com/open-telemetry/opentelemetry-collector/issues/14078))
- `connector/spanmetrics`: Add `add_resource_attributes` opt-in config option to keep resource attributes in generated metrics ([#43394](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43394))
  This configuration option allows users to override the `connector.spanmetrics.excludeResourceMetrics` feature gate
  and restore the old behavior of including resource attributes in metrics. This is needed for customers whose
  existing dashboards depend on resource attributes being present in the generated metrics.

- `pkg/ottl`: Support taking match patterns from runtime data in the `replace_all_patterns` and `replace_pattern` functions. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Add TrimPrefix and TrimSuffix to OTTL ([#43883](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43883))
  This is a much optimal way to remove prefix/suffix compare with `replace_pattern(name, "^prefixed", "")`
- `pkg/ottl`: Added support for dynamic delimiter in Split() function in OTTL. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Added support for dynamic delimiter in Concat() function in OTTL. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Added support for dynamic prefix/suffix in HasPrefix and HasSuffix functions in OTTL. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Remove unnecessary regexp compilation every execution ([#43915](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43915))
- `pkg/ottl`: Support taking match patterns from runtime data in the `replace_all_matches` and `replace_match` functions. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Support taking match patterns from runtime data in the `IsMatch` function. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Remove unnecessary full copy of maps/slices when setting value on sub-map ([#43949](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43949))
- `pkg/ottl`: Add XXH128 Converter function to converts a `value` to a XXH128 hash/digest ([#42792](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42792))
- `pkg/ottl`: Support dynamic keys in the `delete_key` and `delete_matching_keys` functions, allowing the key to be specified at runtime. ([#43081](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43081))
- `pkg/ottl`: Support paths and expressions as keys in `keep_keys` and `keep_matching_keys` ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Support dynamic pattern keys in `ExtractPatterns` and `ExtractGrokPatterns` functions, allowing the keys to be specified at runtime. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `pkg/ottl`: Added support for dynamic encoding in Decode() function in OTTL. ([#43555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43555))
- `processor/filter`: Allow setting OTTL conditions to filter out whole resources ([#43968](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43968))
  If any conditions set under the `resource` key for any signals match, the resource is dropped.
- `processor/k8sattributes`: Support extracting deployment name purely from the owner reference ([#42530](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42530))
- `processor/redaction`: Extend database query obfuscation to span names. Previously, database query obfuscation (SQL, Redis, MongoDB) was only applied to span attributes and log bodies. Now it also redacts sensitive data in span names. ([#43778](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43778))
- `processor/resourcedetection`: Add the `dt.smartscape.host` resource attribute to data enriched with the Dynatrace detector ([#43650](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43650))
- `exporter/kafka`: Adds a new configuration option to the Kafka exporter to control the linger time for the producer. ([#44075](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/44075))
  Since `franz-go` now defaults to `10ms`, it's best to allow users to configure this option to suit their needs.

### ðŸ§° Bug fixes ðŸ§°

- `all`: Ensure service service.instance.id is the same for all the signals when it is autogenerated. ([#14140](https://github.com/open-telemetry/opentelemetry-collector/issues/14140))
- `exporter/debug`: add queue configuration ([#14101](https://github.com/open-telemetry/opentelemetry-collector/issues/14101))
- `exporter/kafka`: franz-go: Fix underreported kafka_exporter_write_latency metric ([#43803](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43803))
- `exporter/loadbalancing`: Fix high cardinality issue in loadbalancing exporter by moving endpoint from exporter ID to attributes ([#43719](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43719))
  Previously, the exporter created unique IDs for each backend endpoint by appending the endpoint
  to the exporter ID (e.g., loadbalancing_10.11.68.62:4317). This caused high cardinality in metrics,
  especially in dynamic environments. Now the endpoint is added as an attribute instead.
  
- `processor/tail_sampling`: Fix panic when invalid regex was sent to string_attribute sampler ([#43735](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43735))
- `receiver/hostmetrics`: Allow process metrics to be recorded if the host does not have cgroup functionality ([#43640](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43640))
- `receiver/kafka`: Corrected the documentation for the Kafka receiver to accurately the supported/default group balancer strategies. ([#43892](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43892))
- `receiver/prometheus`: Fix missing staleness tracking leading to missing no recorded value data points. ([#43893](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43893))
- `exporter/loadbalancing`: Ensure loadbalancing child exporters use the OTLP type so backend creation succeeds ([#43950](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43950))
- `processor/k8sattributes`: The fix is on k8sattributes processor to only set k8s.pod.ip attribute when it is requested in the extract.metadata configuration. ([#43862](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43862))
  Previously, the `k8s.pod.ip` attribute was always populated, even if it was not included in the `extract.metadata` list. 
  This fix ensures that `k8s.pod.ip` is set only when explicitly requested, aligning the processor behavior with configuration expectations.

---

</details>

#### Dynatrace distribution changelog:

### ðŸ›‘ Breaking changes ðŸ›‘

- `processor/cumulativetodelta`: It's recommended to have the `max_staleness` setting configured when using the `cumulativetodelta` processor in order to avoid increased memory consumption when processing metrics. ([#746](https://github.com/Dynatrace/dynatrace-otel-collector/pull/746))
  The processor will clean up unused cached entries after the duration specified by `max_staleness`. If `max_staleness` is not set, cached entries may persist indefinitely, leading to potential memory bloat over time.
- `receiver/prometheus`: It is recommended to run the Collector with `--feature-gates=-receiver.prometheusreceiver.RemoveStartTimeAdjustment` in order to keep adjusting start times in the Prometheus Receiver. In future Dynatrace distribution releases, it will instead be suggested to use the Metric Start Time Processor.

### ðŸš€ New components ðŸš€

- `kafka`: Add Kafka exporter to the distribution. ([#710](https://github.com/Dynatrace/dynatrace-otel-collector/pull/710))
- `kafka`: Add Kafka receiver to the distribution. ([#710](https://github.com/Dynatrace/dynatrace-otel-collector/pull/710))
- `kafkametricsreceiver`: Add Kafka metrics receiver to the distribution. ([#722](https://github.com/Dynatrace/dynatrace-otel-collector/pull/722))

### ðŸ’¡ Enhancements ðŸ’¡

- `processor/resourcedetection`: Add the `dt.smartscape.host` resource attribute to data enriched with the Dynatrace detector ([#43650](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43650))
- `processor/resourcedetectionprocessor`: Adds tests for resource detection of property dt.smartscape.host ([#709](https://github.com/Dynatrace/dynatrace-otel-collector/pull/709))

<!-- previous-version -->

## v0.39.0

This release includes version 0.138.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.138.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.138.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.138.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/exporterhelper`: Add default values for `sending_queue::batch` configuration. ([#13766](https://github.com/open-telemetry/opentelemetry-collector/issues/13766))
  Setting `sending_queue::batch` to an empty value now results in the same setup as the default batch processor configuration.

- `all`: Add unified print-config command with mode support (redacted, unredacted), json support (unstable), and validation support. ([#11775](https://github.com/open-telemetry/opentelemetry-collector/issues/11775))
  This replaces the `print-initial-config` command. See the `service` package README for more details. The original command name `print-initial-config` remains an alias, to be retired with the feature flag.

### ðŸ’¡ Enhancements ðŸ’¡

- `all`: Add `keep_alives_enabled` option to ServerConfig to control HTTP keep-alives for all components that create an HTTP server. ([#13783](https://github.com/open-telemetry/opentelemetry-collector/issues/13783))
- `pkg/ottl`: Add support for literal getters ([#40222](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40222))
  This enhancement introduces the `ottl.GetLiteralValue` function to OTTL, enabling compile-time optimization for getters that 
  contain literal values. When a getter is identified as containing a literal value, OTTL functions can now access that value 
  at build time rather than runtime, improving performance for common use cases like pattern matching with static strings.

- `receiver/hostmetrics`: Add metrics, Linux scraper, and tests to hostmetricsreceiver's nfsscraper ([#40134](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40134))
- `receiver/k8s_cluster`: Fix for k8sclusterreceiver to handle empty containerID in ContainerStatus ([#43147](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43147))
- `pkg/ottl`: Add XXH3 Converter function to converts a `value` to a XXH3 hash/digest ([#42792](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42792))
- `pkg/sampling`: Note that pkg/sampling implements the new OpenTelemetry specification ([#43396](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43396))
- `processor/resourcedetection`: Add Openstack Nova resource detector to gather Openstack instance metadata as resource attributes ([#39117](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39117))
  The Openstack Nova resource detector has been added to gather metadata such as host name, ID, cloud provider, region, and availability zone as resource attributes, enhancing the observability of Openstack environments.
- `processor/resourcedetection`: Add Azure availability zone to resourcedetectionprocessor ([#40983](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40983))
- `receiver/hostmetrics`: Add metrics, Linux scraper, and tests to hostmetricsreceiver's nfsscraper ([#40134](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40134))
- `receiver/syslog`: Promote Syslog receiver to beta stability ([#28551](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/28551))

### ðŸ§° Bug fixes ðŸ§°

- `all`: Fix zstd decoder data corruption due to decoder pooling for all components that create an HTTP server. ([#13954](https://github.com/open-telemetry/opentelemetry-collector/issues/13954))
- `receiver/k8s_cluster`: Fix for k8sclusterreceiver to handle empty containerID in ContainerStatus ([#43147](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43147))

---

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `extension/k8sleaderelector`: Add k8sleaderelector extension to the collector distribution ([#681](https://github.com/dynatrace/dynatrace-otel-collector/issues/681))

<!-- previous-version -->

## v0.38.0

This release includes version 0.137.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.137.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.137.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.137.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘
- `pkg/exporterhelper`: Remove all experimental symbols in exporterhelper ([#11143](https://github.com/open-telemetry/opentelemetry-collector/issues/11143))
  They have all been moved to xexporterhelper
- `spanmetricsconnector`: Exclude all resource attributes in spanmetrics ([#42103](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42103))
  This change aligns with the ServiceGraph implementation and may introduce a breaking change:
  Users utilizing Prometheus remote write will not experience a breaking change.
  Users using OTLP/HTTP may encounter a breaking change.
  The change is currently guarded by the feature gate connector.spanmetrics.excludeResourceMetrics and is disabled by default.
  It will be enabled by default in the next release.
- `spanmetricsconnector`: Change default duration metrics unit from ms to s ([#42462](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42462))
  This change introduces a breaking change, which is now guarded by the feature gate connector.spanmetrics.useSecondAsDefaultMetricsUnit.
  Currently, the feature gate is disabled by default, so the unit will remain ms. After one release cycle, the unit will switch to s and the feature gate will also be enabled by default.

### ðŸ’¡ Enhancements ðŸ’¡

- `all`: Changelog entries will now have their component field checked against a list of valid components. ([#13924](https://github.com/open-telemetry/opentelemetry-collector/issues/13924))
  This will ensure a more standardized changelog format which makes it easier to parse.
- `pkg/pdata`: Mark featuregate pdata.useCustomProtoEncoding as stable ([#13883](https://github.com/open-telemetry/opentelemetry-collector/issues/13883))
- `pkg/ottl`: Create ctxprofilecommon for common attribute handling in various profiling sub messages ([#42107](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42107))
- `all`: Mark configoptional as stable ([#13403](https://github.com/open-telemetry/opentelemetry-collector/issues/13403))
- `all`: Mark configauth module as 1.0 ([#9476](https://github.com/open-telemetry/opentelemetry-collector/issues/9476))
- `redactionprocessor`: Add support for URL sanitization in the redaction processor. ([#41535](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41535))
- `receiver/k8seventsreceiver`: Added support for Leader Election into k8seventsreceiver using k8sleaderelector extension. ([#42266](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42266))
- `receiver/k8sobjectsreceiver`: Switch to standby mode when leader lease is lost instead of shutdown ([#42706](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42706))
- `processor/resourcedetection`: Add support for DigitalOcean in resourcedetectionprocessor ([#42803](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42803))
- `processor/resourcedetection`: Add support for upcloud in resourcedetectionprocessor ([#42801](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42801))
- `hostmetricsreceiver`: Add useMemAvailable feature gate to use the MemAvailable kernel's statistic to compute the "used" memory usage ([#42221](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42221))
- `tailsamplingprocessor`: Add support for extensions that implement sampling policies. ([#31582](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31582))
  Extension support for tailsamplingprocessor is still in development and the interfaces may change at any time.

### ðŸ§° Bug fixes ðŸ§°

- `receiver/k8seventsreceiver`: Prevent potential panic in the events receiver by safely checking that informer objects are *corev1.Event before handling them. ([#43014](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/43014))
- `processor/k8sattributes`: Use podUID instead podName to determine which pods should be deleted from cache ([#42978](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42978))
- `statsdreceiver`: Fix a data race in statsdreceiver on shutdown ([#42878](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42878))

###  ðŸš© Deprecations ðŸš©
- `all`: service/telemetry.TracesConfig is deprecated ([#13904](https://github.com/open-telemetry/opentelemetry-collector/issues/13904))
  This type alias has been added to otelconftelemetry.TracesConfig,
  where the otelconf-based telemetry implementation now lives.

### ðŸš€ New components ðŸš€

- `resourcedetectionprocessor`: Added Oracle Cloud resource detection support to resourcedetectionprocessor, enabling automatic population of Oracle Cloud-specific resource attributes. ([#35091](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35091))
  This update allows the OpenTelemetry Collector to detect and annotate telemetry with Oracle Cloud resource metadata when running in Oracle Cloud environments.
  Includes new unit tests and documentation.

---

</details>

<!-- previous-version -->

## v0.37.0

This release includes version 0.136.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.136.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.136.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.136.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `processor/k8sattributesprocessor`: Add support for k8s.cronjob.uid attribute in k8sattributesprocessor ([#42557](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42557))
- `opampsupervisor`: Add support for client initiated OpAMP heartbeats in the supervisor. ([#42533](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42533))
- `processor/resourcedetection`: Add support for linode cloud in resourcedetectionprocessor ([#42543](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42543))
- `processor/resourcedetectionprocessor`: Add support for Scaleway host image attributes in the resourcedetectionprocessor ([#42682](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42682))
- `processor/resourcedetectionprocessor`: Add support for Vultr cloud provider in the resourcedetectionprocessor ([#42569](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42569))
- `spanmetricsconnector`: Supports adding the `collector.instance.id` attribute to data points generated by the spanmetrics connector. ([#40400](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40400))
  This feature currently in alpha stage, user should enable it by feature-gate `--feature-gates=+connector.spanmetrics.includeCollectorInstanceID`
- `processor/resourcedetectionprocessor`: Add support for Scaleway cloud provider in the resourcedetectionprocessor ([#42664](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42664))
- `tailsamplingprocessor`: Set a `tailsampling.cached_decision` attribute on traces that were sampled by the decision cache. ([#42535](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42535))
- `receiver/k8scluster`: Add experimental metric for container status reason ([#32457](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32457))
- `xpdata`: Add Serialization and Deserialization of AnyValue ([#12826](https://github.com/open-telemetry/opentelemetry-collector/issues/12826))
- `debugexporter`: add support for batching ([#13791](https://github.com/open-telemetry/opentelemetry-collector/issues/13791))
   The default queue size is 1
- `configtls`: Add early validation for TLS server configurations to fail fast when certificates are missing instead of failing at runtime. ([#13130](https://github.com/open-telemetry/opentelemetry-collector/issues/13130), [#13245](https://github.com/open-telemetry/opentelemetry-collector/issues/13245))


### ðŸ§° Bug fixes ðŸ§°

- `exporter/loadbalancing`: Drop resources if the service routing key does not exist ([#41550](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41550))
- `processor/redaction`: Support redaction of scope level atrributes ([#42659](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42659))
- `otelcol`: Fix a potential deadlock during collector shutdown. ([#13740](https://github.com/open-telemetry/opentelemetry-collector/issues/13740))
- `otlpexporter`: fix the validation of unix socket endpoints ([#13826](https://github.com/open-telemetry/opentelemetry-collector/issues/13826))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/loadbalancingexporter`: Add load balancing exporter, including configuration example and tests. ([#636](https://github.com/open-telemetry/opentelemetry-collector/issues/636))

<!-- previous-version -->

## v0.36.0

This release includes version 0.135.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.135.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.135.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.135.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `k8sattributesprocessor`: Introduce allowLabelsAnnotationsSingular feature gate to use singular format for k8s label and annotation resource attributes [#39774](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39774)
  The feature gate, when enabled, will change the default resource attribute key format from k8s.<workload>.labels.<label-key> to k8s.<workload>.label.<label-key>. Same applies for annotations.

### ðŸ’¡ Enhancements ðŸ’¡

- - `exporterhelper`: Add new `exporter_queue_batch_send_size` and `exporter_queue_batch_send_size_bytes` metrics, showing the size of telemetry batches from the exporter. [#12894](https://github.com/open-telemetry/opentelemetry-collector/issues/12894)
- `transformprocessor`: Add support for merging histogram buckets. [#40280](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40280)
  The transformprocessor now supports merging histogram buckets using the `merge_histogram_buckets` function.
- `statsdreceiver`: Introduce explicit bucket for statsd receiver [#41203](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41203), [#41503](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41503)
- `k8sclusterreceiver`: Add option `namespaces` for setting a list of namespaces to be observed by the receiver. This supersedes the `namespace` option which is now deprecated. [#40089](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40089)
- `k8sobjectsreceiver`: Adds the instrumentation scope name and version [#42290](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42290)
- `receiver/kubeletstats`: Introduce k8s.pod.volume.usage metric. [#40476](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40476)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `k8seventsreceiver`: Add the k8sevents receiver to the Dynatrace distribution of the OTel collector ([#658](https://github.com/open-telemetry/opentelemetry-collector/issues/658))

<!-- previous-version -->

## v0.35.1

This release includes version 0.134.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.134.0:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.134.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/ottl`: Keep the original map and continue processing keys if an error is encountered when calling an optional replacement function in `replace_all_patterns`. ([#42359](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42359))

### ðŸ§° Bug fixes ðŸ§°

- `k8sattributesprocessor`: Allow service.namespace to be used in rules and fix docs ([#40859](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40859))
- `tailsamplingprocessor`: Fix a race condition in the tailsampling processor that could cause traces to be dropped prematurely. ([#41656](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41656))

### ðŸ’¡ Enhancements ðŸ’¡

- `k8sclusterreceiver`: Add optional experimental k8s.container.status.state metric ([#32457](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32457), [#32457](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32457))
- `filelogreceiver`: Move filelog.decompressFingerprint feature gate to beta stage ([#42189](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42189))
- `tailsamplingprocessor`: Optimize telemetry collection in tailsamplingprocessor ([#41888](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41888))
- `tailsamplingprocessor`: Add a new option to block on num traces overflow. ([#41546](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41546))
- `prometheusreceiver`: Remove temporary fix for metric name validation, fix upstream resolved ([#42004](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42004))
- `prometheusreceiver`: Fixes a bug where static configuration labels were dropped when using the Prometheus receiver. Previously, labels defined in the static config were not being applied to the metrics. ([#41727](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41727))
- `pkg/ottl`: Avoid multiple copies of the Map in replace_all_patterns. ([#42359](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42359))
- `pkg/ottl`: Remove unnecessary Value initialization when setting an attribute/body ([#42335](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42335), [#42362](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42362))
- `pkg/ottl`: Add an `Index(target, value)` OTTL function which returns the index of the first occurrence of `value` in `target`. ([#40351](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40351))
- `pkg/stanza`: add `sanitize_utf8` operator to replace invalid UTF-8 characters. ([#42028](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/42028))

</details>

<!-- previous-version -->

## v0.35.0

This release includes version 0.133.0 and 0.134.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.133.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.133.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.133.0>

v0.134.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.134.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.134.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Prevent uncontrolled goroutines in batcher due to a incorrect worker pool behaviour. ([#13689](https://github.com/open-telemetry/opentelemetry-collector/issues/13689))
- `service`: Ensure the insecure configuration is accounted for when normalizing the endpoint. ([#13691](https://github.com/open-telemetry/opentelemetry-collector/issues/13691))
- `batchprocessor`: Fix UB in batch processor when trying to read bytes size after adding request to pipeline ([#13698](https://github.com/open-telemetry/opentelemetry-collector/issues/13698))
    This bug only happens if detailed metrics are enabled and also an async (sending queue enabled) exporter that mutates data is configured.
- `pdata`: Correctly parse OTLP payloads containing non-packed repeated primitive fields ([#13727](https://github.com/open-telemetry/opentelemetry-collector/issues/13727), [#13730](https://github.com/open-telemetry/opentelemetry-collector/issues/13730))
  This bug prevented the Collector from ingesting most Histogram, ExponentialHistogram,
  and Profile payloads.

### ðŸ’¡ Enhancements ðŸ’¡

- `otlphttpexporter`: Add `profiles_endpoint` configuration option to allow custom endpoint for profiles data export ([#13504](https://github.com/open-telemetry/opentelemetry-collector/issues/13504))
  The `profiles_endpoint` configuration follows the same pattern as `traces_endpoint`, `metrics_endpoint`, and `logs_endpoint`.
  When specified, profiles data will be sent to the custom URL instead of the default `{endpoint}/v1development/profiles`.
- `receiverhelper`: New feature flag to make receiverhelper distinguish internal vs. downstream errors using new `otelcol_receiver_failed_x` and `otelcol_receiver_requests` metrics ([#12207](https://github.com/open-telemetry/opentelemetry-collector/issues/12207), [#12802](https://github.com/open-telemetry/opentelemetry-collector/issues/12802))
  This is a breaking change for the semantics of the otelcol_receiver_refused_metric_points,  otelcol_receiver_refused_log_records and otelcol_receiver_refused_spans metrics.
  These new metrics and semantics are enabled through the `receiverhelper.newReceiverMetrics` feature gate.
- `debugexporter`: Add support for entity references in debug exporter output ([#13324](https://github.com/open-telemetry/opentelemetry-collector/issues/13324))
- `pdata`: Add support for local memory pooling for data objects. ([#13678](https://github.com/open-telemetry/opentelemetry-collector/issues/13678))
  This is still an early experimental (alpha) feature. Do not recommended to be used production. To enable use "--featuregate=+pdata.useProtoPooling"
- `pdata`: Optimize CopyTo messages to avoid any copy when same source and destination ([#13680](https://github.com/open-telemetry/opentelemetry-collector/issues/13680))
- `pdata`: Fix unnecessary allocation of a new state when adding new values to pcommon.Map ([#13634](https://github.com/open-telemetry/opentelemetry-collector/issues/13634))
- `service`: Implement refcounting for pipeline data owned memory. ([#13631](https://github.com/open-telemetry/opentelemetry-collector/issues/13631))
  This feature is protected by `--featuregate=+pdata.useProtoPooling`.
- `service`: Add a debug-level log message when a consumer returns an error. ([#13357](https://github.com/open-telemetry/opentelemetry-collector/issues/13357))
- `xpdata`: Optimize xpdata/context for persistent queue when only one value for key ([#13636](https://github.com/open-telemetry/opentelemetry-collector/issues/13636))
- `otlpreceiver`: Log the listening addresses of the receiver, rather than the configured endpoints. ([#13654](https://github.com/open-telemetry/opentelemetry-collector/issues/13654))
- `pdata`: Use the newly added proto marshaler/unmarshaler for the official proto Marshaler/Unmarshaler ([#13637](https://github.com/open-telemetry/opentelemetry-collector/issues/13637))
  If any problems observed with this consider to disable the featuregate `--feature-gates=-pdata.useCustomProtoEncoding`
- `pdata`: Add custom grpc/encoding that replaces proto and calls into the custom marshal/unmarshal logic in pdata. ([#13631](https://github.com/open-telemetry/opentelemetry-collector/issues/13631))
  This change should not affect other gRPC calls since it fallbacks to the default grpc/proto encoding if requests are not pdata/otlp requests.
- `pdata`: Avoid copying the pcommon.Map when same origin ([#13731](https://github.com/open-telemetry/opentelemetry-collector/issues/13731))
  This is a very large improvement if using OTTL with map functions since it will avoid a map copy.
- `exporterhelper`: Respect `num_consumers` when batching and partitioning are enabled. ([#13607](https://github.com/open-telemetry/opentelemetry-collector/issues/13607))

</details>

<!-- previous-version -->

## v0.34.0

This release includes version 0.132.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.132.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.132.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.132.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `componentstatus`: Change the signature of the componentstatus.NewEvent to accept multiple options. ([#13210](https://github.com/open-telemetry/opentelemetry-collector/issues/13210))
  Changes the signature of the component.NewEvent to accept multiple EventBuilderOption,
  like the new WithAttributes constructor.

### ðŸš© Deprecations ðŸš©

- `service`: move `service.noopTraceProvider` feature gate to deprecated stage ([#13492](https://github.com/open-telemetry/opentelemetry-collector/issues/13492))
  The functionality of the feature gate is available via configuration with the following telemetry settings:
  ```
  service:
    telemetry:
      traces:
        level: none
  ```
  
- `service`: The `telemetry.disableHighCardinalityMetrics` feature gate is deprecated ([#13537](https://github.com/open-telemetry/opentelemetry-collector/issues/13537))
  The feature gate is now deprecated since metric views can be configured.
  The feature gate will be removed in v0.134.0.
  
  The metric attributes removed by this feature gate are no longer emitted
  by the Collector by default, but if needed, you can achieve the same
  functionality by configuring the following metric views:
  
  ```yaml
  service:
    telemetry:
      metrics:
        level: detailed
        views:
          - selector:
              meter_name: "go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc"
            stream:
              attribute_keys:
                excluded: ["net.sock.peer.addr", "net.sock.peer.port", "net.sock.peer.name"]
          - selector:
              meter_name: "go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp"
            stream:
              attribute_keys:
                excluded: ["net.host.name", "net.host.port"]
  ```
  
  Note that this requires setting `service::telemetry::metrics::level: detailed`.
  If you have a strong use case for using views in combination with a different
  level, please show your interest in
  https://github.com/open-telemetry/opentelemetry-collector/issues/10769.

### ðŸ’¡ Enhancements ðŸ’¡

- `exporterhelper`: Provide an interface `queue_batch.Setting.MergeCtx` so users can control how context values are preserved or combined ([#13320](https://github.com/open-telemetry/opentelemetry-collector/issues/13320))
  By supplying a custom mergeCtx function, users can control how context values are preserved or combined.
  The default behavior is to preserve no context values.
- `pdata`: Avoid unnecessary buffer copy when JSON marshal fails. ([#13598](https://github.com/open-telemetry/opentelemetry-collector/issues/13598))
- `pipeline`: Mark module as stable ([#12831](https://github.com/open-telemetry/opentelemetry-collector/issues/12831))
- `pdata`: Generate Logs/Traces/Metrics/Profiles and p[log|trace|metric|profile]ExportResponse with pdatagen. ([#13597](https://github.com/open-telemetry/opentelemetry-collector/issues/13597))
  This change brings consistency on how these structs are written and remove JSON marshaling/unmarshaling hand written logic.
- `confighttp`: Add option to configure ForceAttemptHTTP2 to support HTTP/1 specific transport settings. ([#13426](https://github.com/open-telemetry/opentelemetry-collector/issues/13426))
- `pdata`: Avoid unnecessary buffer copy when JSON marshal fails. ([#13598](https://github.com/open-telemetry/opentelemetry-collector/issues/13598))
- `processorhelper`: Add processor internal duration metric. ([#13231](https://github.com/open-telemetry/opentelemetry-collector/issues/13231))
- `pdata`: Improve RemoveIf for slices to not reference anymore the removed memory ([#13522](https://github.com/open-telemetry/opentelemetry-collector/issues/13522))
- `pkg/ottl`: Add OTTL support for sample submessage of OTel Profiling signal. ([#40161](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40161))
- `internal/common`: Add a priority queue implementation to the common package. ([#41755](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41755))
- `redactionprocessor`: Add database sanitization capability to the redaction processor. ([#41647](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41647))
- `pkg/ottl`: Add `UUIDv7` function to generate v7 UUIDs. ([#41268](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41268))
- `filelogreceiver`: Add a new setting, `polls_to_archive`, to control the number of poll cycles to store on disk, rather than being discarded. ([#32727](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32727))
  If `polls_to_archive` setting is used in conjunction with `storage` setting, file offsets older than three poll cycles are stored on disk rather than being discarded. 
  This feature enables the receiver to remember file for a longer period and also aims to use limited amount of memory. 
  
- `pkg/stanza`: Add support for batch processing in most operators ([#39575](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39575))
  The following operators now support batching: `add`, `assign_keys`, `copy`, `flatten`, `move`,
  `regex_replace`, `remove`, `retain`, `unquote` `json_parser`, `json_array_parser`, `key_value_parser`,
  `regex_parser`, `scope_name`, `severity`, `timestamp`, `trace_parser`, `uri_parser`.
  
  The following operators do not support batching yet: `container`, `csv_parser`, `filter`,
  `recombine`, `router`, `syslog`.

- `k8sobjectsreceiver`: Introduces `include_initial_state` for watch mode, so the existing state of watched objects emitted as log events. ([#41536](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41536))
- `cmd/opampsupervisor`: The Supervisor can now be configured to expose a health check endpoint ([#40529](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40529))
  Use `agent::healthcheck` to configure the Supervisor's health check endpoint. It supports all of
  the configuration from `confighttp.ServerConfig`.
  The health check endpoint is checking the following conditions:
  - The persistent state is not nil: this should cover the existence of the instance ID, among other things.
  - The config state is not nil: this should cover the existence of the merged config.
  
- `processor/transform`: Introduce convert_summary_quantile_val_to_gauge() function ([#33850](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33850))
- `tailsamplingprocessor`: Add `decision` attribute to metrics tracking sampling decisions ([#41819](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41819))
  Possible values for the `decision` attribute are `sampled`, `not_sampled` and `dropped`

### ðŸ§° Bug fixes ðŸ§°

- `pdata`: Fix null pointer access when copying into a slice with larger cap but smaller len. ([#13523](https://github.com/open-telemetry/opentelemetry-collector/issues/13523))
- `confighttp`: Fix middleware configuration field name from "middleware" to "middlewares" for consistency with configgrpc ([#13444](https://github.com/open-telemetry/opentelemetry-collector/issues/13444))
- `memorylimiterextension, memorylimiterprocessor`: Memory limiter extension and processor shutdown don't throw an error if the component was not started first. ([#9687](https://github.com/open-telemetry/opentelemetry-collector/issues/9687))
  The components would throw an error if they were shut down before being started.
  With this change, they will no longer return an error, conforming to the lifecycle of components expected.
  
- `confighttp`: Reuse zstd Reader objects ([#11824](https://github.com/open-telemetry/opentelemetry-collector/issues/11824))
- `statsdreceiver`: Fixes a bug when storing k8s.pod.ip in the metrics. Previously otelcol IP was used instead of the client IP. ([#41361](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41361), [#41362](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41362))
- `spanmetricsconnector`: Adds a default maximum number of exemplars within the metric export interval. ([#41679](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41679))
  1. If the user manually sets max_per_data_point, there will be no impact.
  2. If the user does not set max_per_data_point, the default value will take effect, with max_per_data_point = 5.

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `config_examples`: Add Dynatrace Operator metadata object processing to k8s enrichment config example [#615](https://github.com/Dynatrace/dynatrace-otel-collector/pull/615)
  This extends the config example for the k8sattributesprocessor and related transformprocessor statements
  to add pod metadata added by the Dynatrace Operator to the resource attributes in exported telemetry. See
  https://docs.dynatrace.com/docs/shortlink/k8s-metadata-telemetry-enrichment on how to configure this operator feature.
  

<!-- previous-version -->

## v0.33.0

This release includes version 0.131.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.131.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.131.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.131.0>

v0.130.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.130.1>

v0.130.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.130.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.130.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `confighttp`: Move `confighttp.framedSnappy` feature gate to beta. ([#10584](https://github.com/open-telemetry/opentelemetry-collector/issues/10584))
- `exporter/otlp`: Remove deprecated batcher config from OTLP, use queuebatch ([#13339](https://github.com/open-telemetry/opentelemetry-collector/issues/13339))
- `kubeletstats`: Move receiver.kubeletstats.enableCPUUsageMetrics feature gate to stable ([#39650](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39650))

### ðŸš© Deprecations ðŸš©

- `spanmetricsconnector`: Mark dimensions_cache_size as deprecated following the upstream guidelines ([#41101](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41101))

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/debug`: Move to alpha stability except profiles ([#13487](https://github.com/open-telemetry/opentelemetry-collector/issues/13487))
- `exporterhelper`: Enable `exporter.PersistRequestContext` feature gate by default. ([#13437](https://github.com/open-telemetry/opentelemetry-collector/issues/13437))
  Request context is now preserved by default when using persistent queues.
  Note that Auth extensions context is not propagated through the persistent queue.

- `pdata`: Use pdatagen to generate marshalJSON without using gogo proto jsonpb. ([#13450](https://github.com/open-telemetry/opentelemetry-collector/issues/13450))
- `otlpreceiver`: Remove usage of gogo proto which uses reflect.Value.MethodByName. Removes one source of disabling DCE. ([#12747](https://github.com/open-telemetry/opentelemetry-collector/issues/12747))
- `exporterhelper`: Fix metrics split logic to consider metrics description into the size. ([#13418](https://github.com/open-telemetry/opentelemetry-collector/issues/13418))
- `service`: New pipeline instrumentation now differentiates internal failures from downstream errors ([#13234](https://github.com/open-telemetry/opentelemetry-collector/issues/13234))
  With the telemetry.newPipelineTelemetry feature gate enabled, the "received" and "produced"
  metrics related to a component now distinguish between two types of errors:
  - "outcome = failure" indicates that the component returned an internal error;
  - "outcome = refused" indicates that the component successfully emitted data, but returned an
    error coming from a downstream component processing that data.

- `pdata`: Remove usage of text/template from pdata, improves DCE. ([#12747](https://github.com/open-telemetry/opentelemetry-collector/issues/12747))
- `exporterhelper`: Enable items and bytes sizers for persistent queue ([#12881](https://github.com/open-telemetry/opentelemetry-collector/issues/12881))
- `exporterhelper`: Refactor persistent storage size backup to always record it. ([#12890](https://github.com/open-telemetry/opentelemetry-collector/issues/12890))
- `exporterhelper`: Add support to configure a different Sizer for the batcher than the queue ([#13313](https://github.com/open-telemetry/opentelemetry-collector/issues/13313))
- `yaml`: Replaced `sigs.k8s.io/yaml` with `go.yaml.in/yaml` for improved support and long-term maintainability. ([#13308](https://github.com/open-telemetry/opentelemetry-collector/issues/13308))

- `pkg/ottl`: Add OS name and version attributes in the `UserAgent` function output. ([#35458](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35458))
- `httpcheckreceiver`: Add TLS certificate checking capability for HTTPS endpoints. ([#35968](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35968))
  The receiver can collect TLS certificate metrics including time remaining until expiry, issuer, common name, and SANs.
  If the HttpCheckTLSCertRemaining metric is enabled and the endpoint is HTTPS, it will collect the certificate metrics.

- `processor/k8sattributes`: Support extracting labels and annotations from k8s StatefulSets ([#37957](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37957))
- `text_encoding`: Move `text_encoding` extension to alpha, adding it to the contrib distribution ([#41452](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41452))
- `pkg/ottl`: Add support for combining `scope` with other OTTL contexts. ([#39308](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39308))
  Previously, OTTL paths could only use the `instrumentation_scope` context when combined with
  lower-level contexts like `log` or `metric`. This change allows the `scope` context to be
  used interchangeably with `instrumentation_scope`, improving flexibility and consistency.

- `pkg/ottl`: Added a new `Values` OTTL Function. ([#41243](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41243))
- `pkg/ottl`: Allow optional KeyPath in OTTL SliceToMap function. ([#41390](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41390))
- `receiver/prometheus`: Add retry logic for connection refused errors so the collector doesn't crash at startup. ([#40982](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40982))
  This change adds retry logic for connection refused errors. The target allocator could be
  busy starting up the receiver and the first connection attempt may fail.

- `receiver/prometheus`: Add support for otel_scope_schema_url label mapping to OpenTelemetry ScopeMetrics schema URL field ([#41488](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41488))
- `redactionprocessor`: The new `redact_all_types` option redacts all field types after casting them to string. ([#36684](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36684))
- `filelogreceiver`: Add option `include_file_record_offset` to insert offset as attribute in log records as `log.file.record.offset` ([#39684](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39684))
- `pkg/ottl`: Add new `Keys` converter to extract all keys from a given map. ([#39256](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39256))
- `pkg/ottl`: Added a new `ParseInt` OTTL Function. ([#40758](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40758))
- `transformprocessor`: Add profiles support to transformprocessor. ([#39009](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39009))

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Prevents the exporter for being stuck when telemetry data is bigger than batch.max_size ([#12893](https://github.com/open-telemetry/opentelemetry-collector/issues/12893))
- `mdatagen`: Fix import paths for mdatagen component ([#13069](https://github.com/open-telemetry/opentelemetry-collector/issues/13069))
- `otlpreceiver`: Error handler correctly fallbacks to content type ([#13414](https://github.com/open-telemetry/opentelemetry-collector/issues/13414))
- `pdata/pprofiles`: Fix profiles JSON unmarshal logic for originalPayload. The bytes have to be base64 encoded. ([#13483](https://github.com/open-telemetry/opentelemetry-collector/issues/13483))
- `service`: Downgrade dependency of prometheus exporter in OTel Go SDK ([#13429](https://github.com/open-telemetry/opentelemetry-collector/issues/13429))
  This fixes the bug where collector's internal metrics are emitted with an unexpected suffix in their names when users configure the service::telemetry::metrics::readers with Prometheus
- `service`: Revert Default internal metrics config now enables `otel_scope_` labels ([#12939](https://github.com/open-telemetry/opentelemetry-collector/issues/12939), [#13344](https://github.com/open-telemetry/opentelemetry-collector/issues/13344))
  Reverting change temporarily due to prometheus exporter downgrade. This unfortunately re-introduces the bug that instrumentation scope attributes cause errors in Prometheus exporter. See http://github.com/open-telemetry/opentelemetry-collector/issues/12939 for details.
- `service`: Fixes bug where internal metrics are emitted with an unexpected suffix in their names when users configure `service::telemetry::metrics::readers` with Prometheus. ([#13449](https://github.com/open-telemetry/opentelemetry-collector/issues/13449))
  See more details on https://github.com/open-telemetry/opentelemetry-go/issues/7039

- `exporterhelper`: Fix exporter.PersistRequestContext feature gate ([#13342](https://github.com/open-telemetry/opentelemetry-collector/issues/13342))
- `exporterhelper`: Preserve all metrics metadata when batch splitting. ([#13236](https://github.com/open-telemetry/opentelemetry-collector/issues/13236))
  Previously, when large batches of metrics were processed, the splitting logic in `metric_batch.go` could
  cause the `name` field of some metrics to disappear. This fix ensures that all metric fields are
  properly preserved when `metricRequest` objects are split.

- `service`: Default internal metrics config now enables `otel_scope_` labels ([#12939](https://github.com/open-telemetry/opentelemetry-collector/issues/12939), [#13344](https://github.com/open-telemetry/opentelemetry-collector/issues/13344))
  By default, the Collector exports its internal metrics using a Prometheus
  exporter from the opentelemetry-go repository. With this change, the Collector
  no longer sets "without_scope_info" to true in its configuration.

  This means that all exported metrics will have `otel_scope_name`,
  `otel_scope_schema_url`, and `otel_scope_version` labels corresponding to the
  instrumentation scope metadata for that metric.

  This notably prevents an error when multiple metrics are only distinguished
  by their instrumentation scopes and end up aliased during export.

  If this is not desired behavior, a Prometheus exporter can be explicitly
  configured with this option enabled.

- `tailsamplingprocessor`: Numeric-range values, if zero, are properly treated as unset. ([#41562](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41562))
- `receiver/prometheus`: Fix otel_scope_name and otel_scope_version labels not being dropped from metric attributes ([#41456](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41456))
- `pkg/ottl`: Fix OTTL functions by using setters. ([#39100](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39100))
- `receiver/prometheus`: Fixes masking of authentication credentials in Prometheus receiver, when reloading the Prometheus config. ([#40520](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40520), [#40916](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40916))
- `filelogreceiver`: Fix `remove`, `copy`, and `move` operator configuration validation. ([#40728](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40728))
  Previously, the receiver would allow configurations that were guaranteed to cause a Collector panic. The Collector will now fail to start with friendly error messages.
- `pkg/ottl`: Fix an issue where the attribute values were amended in the profiles dictionary. ([#40738](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40738))
- `pkg/ottl`: Fixes the OTTL nanoseconds formatter to correctly handle 9 digits of nanoseconds, ensuring accurate time formatting and parsing. ([#41144](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/41144))
  Places that import "github.com/open-telemetry/opentelemetry-collector-contrib/internal/coreinternal/timeutils" are likely affected by this change. For example, `FormatTime`and `Time` OTTL functions are affected. See [here](https://github.com/search?q=repo%3Aopen-telemetry%2Fopentelemetry-collector-contrib+%22github.com%2Fopen-telemetry%2Fopentelemetry-collector-contrib%2Finternal%2Fcoreinternal%2Ftimeutils%22&type=code) for a full list of affected functionalities.

</details>

<!-- previous-version -->

## v0.32.0

This release includes version 0.129.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.129.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.129.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.129.0>

v0.128.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.128.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.128.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `receiver/hostmetrics`: Mark `hostmetrics.process.onWindowsUseNewGetProcesses` feature gate as stable ([#32947](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32947))
- `resourcedetectionprocessor`: Promote the processor.resourcedetection.removeGCPFaasID feature gate to beta. ([#40601](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40601))
  The faas.id attribute is replaced by the faas.instance attribute. | This disables detection of the faas.id resource attribute by default. | Re-enable by disabling the processor.resourcedetection.removeGCPFaasID feature gate.
- `prometheusreceiver`: Promote the receiver.prometheusreceiver.RemoveLegacyResourceAttributes featuregate to stable ([#40572](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40572))
  It has been beta since v0.126.0

### ðŸ’¡ Enhancements ðŸ’¡

- `resourcedetectionprocessor`: Add the option to retrieve resource attributes from the K8s API server and EC2 api when the IMDS service is not available.([#39503](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39503)
- `resourcedetectionprocessor`: Add additional OS properties to resource detection: `os.build.id` and `os.name`([#39941](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39941)
- `filelogreceiver`: The fingerprint of gzip compressed files is created by decompressing and reading the first `fingerprint_size` bytes.([#37772](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37772)
  This feature can be enabled via the following feature gate `--feature-gates=filelog.decompressFingerprint`. This can cause existing gzip files to be re-ingested because of changes in how fingerprints are computed.
- `processor/k8sattributes`: Support extracting labels and annotations from k8s Deployments([#37957](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37957)
- `receiver/k8s_cluster`: Add onDelete handler to emit the experimental entity delete events([#40278](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40278)
- `processor/resourcedetection`: add `host.interface` resource attribute to `system` detector([#39419](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39419)
- `service`: Support setting `sampler` and `limits` under `service::telemetry::traces` ([#13201](https://github.com/open-telemetry/opentelemetry-collector/issues/13201))
  This allows users to enable sampling and set span limits on internal Collector traces using the
  OpenTelemetry SDK declarative configuration.
- `exporterhelper`: Preserve request span context and client information in the persistent queue. ([#11740](https://github.com/open-telemetry/opentelemetry-collector/issues/11740), [#13220](https://github.com/open-telemetry/opentelemetry-collector/issues/13220), [#13232](https://github.com/open-telemetry/opentelemetry-collector/issues/13232))
  It allows internal collector spans and client information to propagate through the persistent queue used by 
  the exporters. The same way as it's done for the in-memory queue.
  Currently, it is behind the exporter.PersistRequestContext feature gate, which can be enabled by adding 
  `--feature-gates=exporter.PersistRequestContext` to the collector command line. An exporter buffer stored by
  a previous version of the collector (or by a collector with the feature gate disabled) can be read by a newer
  collector with the feature enabled. However, the reverse is not supported: a buffer stored by a newer collector with
  the feature enabled cannot be read by an older collector (or by a collector with the feature gate disabled).
- `receiver/hostmetrics`: Add `system.paging.faults` metrics on Windows ([#40468](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40468))
- `netflowreceiver`: Add TCP flags attribute to netflow receiver. ([#40487](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40487))
- `processor/transform`: Introduce optional metric name suffix setup for metric conversion functions ([#33850](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33850))
  The affected functions are: convert_summary_count_val_to_sum(), convert_summary_sum_val_to_sum(), extract_count_metric(), extract_sum_metric()

### ðŸ§° Bug fixes ðŸ§°

- `prometheusrecevier`: Add feature gate to allow enabling and disabling the Prometheus created timestamp zero ingestion feature flag.([#40245](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40245)
- `service`: Only allocate one set of internal log sampling counters ([#13014](https://github.com/open-telemetry/opentelemetry-collector/issues/13014))
  The case where logs are only exported to stdout was fixed in v0.126.0;
  this new fix also covers the case where logs are exported through OTLP.
- `prometheusreceiver`: Fix invalid metric name validation error in scrape start from target allocator. (#[35459](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35459), #[40788](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40788))
  Prometheus made setting metric_name_validation_scheme, metric_name_escaping_scheme mandatory mandatory, use sane defaults.
- `hostmetricsreceiver`: Minor fix to the handling of conntrack errors ([#40175](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40175))
- `k8sattributesprocessor`: Make sure getIdentifiersFromAssoc() can handle container.id ([#40745](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40745))

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `k8sattributesprocessor`: Add `k8s.container.name` to list of extracted attributes by the k8sattributes processor. ([#596](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/596))
  Please note that the `k8s.container.name` attribute will only be added if the pod from which the incoming
  signal has been received contains only one container, or if the ingested signal contains the `k8s.container.id` resource attribute.
  Otherwise, the k8sattributes processor will not be able to correctly associate the correct container.
  

<!-- previous-version -->

## v0.31.0

This release includes version 0.127.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.127.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.127.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.127.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `processor/tailsampling`: Add first policy match decision to tailsampling processor ([#36795](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36795))
- `receiver/k8sclusterreceiver`: Added new resource attributes `k8s.hpa.scaletargetref.kind`, `k8s.hpa.scaletargetref.name`, and `k8s.hpa.scaletargetref.apiversion` to the `k8s.hpa` resource.  These attributes are disabled by default. ([#38768](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38768))
- `receiver/netflow`: Adds additional common EtherTypes for `network.type`. ([#40219](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/40219))
- `k8sattributesprocessor`: Add option to configure automatic service resource attributes ([#37114](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37114))
  Implements [Service Attributes](https://opentelemetry.io/docs/specs/semconv/non-normative/k8s-attributes/#service-attributes).
  
  If you are using the file log receiver, you can now create the same resource attributes as traces (via OTLP) received
  from an application instrumented with the OpenTelemetry Operator -
  simply by adding the
  `extract: { metadata: ["service.namespace", "service.name", "service.version", "service.instance.id"] }`
  configuration to the `k8sattributesprocessor` processor.
  See the [documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/processor/k8sattributesprocessor/README.md#configuring-recommended-resource-attributes) for more details.
- `exporter/debug`: Display resource and scope in `normal` verbosity ([#10515](https://github.com/open-telemetry/opentelemetry-collector/issues/10515))

### ðŸ§° Bug fixes ðŸ§°

- `filelogreceiver`: Introduce `utf8-raw` encoding to avoid replacing invalid bytes with \uFFFD when reading UTF-8 input. ([#39653](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39653))
- `spanmetricsconnector`: Fix bug causing span metrics calls count to be always 0 when using delta temporality ([#40139](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/40139))

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `docs`: Update host monitoring dashboard together with docs and configuration example ([#585](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/585))

<!-- previous-version -->

## v0.30.1

This release includes version 0.126.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.126.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.126.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.126.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `receiver/prometheus`: Upgrade `receiver.prometheusreceiver.RemoveLegacyResourceAttributes` feature gate to `beta` stability (enabled by default) ([#32814](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32814))
  Disable the `receiver.promtheusreceiver.RemoveLegacyResourceAttributes` feature gate to restore previous behavior. This feature gate will be removed in a future release.
  The feature gate is used to replace the following legacy resource attributes:
  `net.host.name` -> `server.address`
  `net.host.port` -> `server.port`
  `http.scheme` -> `url.scheme`

### ðŸ’¡ Enhancements ðŸ’¡

- `fileconsumer`: Support "`compression:auto`" which automatically detects file compression type and ingests data. Currently, only gzip compressed files are auto detected. This allows for mix of compressed and uncompressed files to be ingested with the same filelogreceiver. ([#37772](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37772))
- `pkg/ottl`: Add support for HasPrefix and HasSuffix functions ([#39825](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39825))
- `pkg/ottl`: OTTL is now officially considered Beta stability ([#39910](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39910))
- `receiver/k8scluster`: Add node name to pod metadata ([#37454](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37454))
- `netflowreceiver`: Add `send_raw` option to send logs as a raw string in the log body instead of parsed into attributes. ([#38920](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38920))
- `processor/transform`: The transformprocessor is now officially considered Beta stability ([#39928](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39928))
- `service`: Add item count metrics defined in Pipeline Component Telemetry RFC ([#12812](https://github.com/open-telemetry/opentelemetry-collector/pull/12812))
  See [Pipeline Component Telemetry RFC](https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/rfcs/component-universal-telemetry.md) for more details:
    - `otelcol.receiver.produced.items`
    - `otelcol.processor.consumed.items`
    - `otelcol.processor.produced.items`
    - `otelcol.connector.consumed.items`
    - `otelcol.connector.produced.items`
    - `otelcol.exporter.consumed.items`

### ðŸ§° Bug fixes ðŸ§°

- `prometheusreceiver`: Add 'fallback_scrape_protocol' to entries obtained through Target Allocator, unless already defined. ([#39672](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39672))
  This applies the same configuration change that is already applied on static configuration.
- `prometheusreceiver`: Convert ms to s when setting start time on the metric ([#39912](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/39912))
- `tailsamplingprocessor`: Fix the misleading decision timer latency metric ([#38502](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38502))
- `exporterhelper`: Add validation error for batch config if min_size is greater than queue_size. ([#12948](https://github.com/open-telemetry/opentelemetry-collector/issues/12948))
- `telemetry`: Allocate less memory per component when OTLP exporting of logs is disabled ([#13014](https://github.com/open-telemetry/opentelemetry-collector/issues/13014))

---

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `receiver/k8scluster`: Add k8scluster receiver ([#568](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/568))
- `receiver/k8sobjects`: Add k8sobjects receiver ([#560](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/560))
- `receiver/kubeletstats`: Add kubeletstats receiver ([#564](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/564))

<!-- previous-version -->

## v0.29.0

This release includes version v0.125.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.125.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.125.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.125.0>

### ðŸ›‘ Breaking changes ðŸ›‘

- `processor/k8sattributes`: Change processor/k8sattributes to return error if unset envvar is used for `node_from_env_var` ([#39447](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39447))
  Before this was a valid configuration, but had an unexpected behavior to monitor the entire cluster. | To keep the same behavior simply do not set the `node_from_env_var` value or use empty string.
- `service`: Lowercase values for 'otelcol.component.kind' attributes. ([#12865](https://github.com/open-telemetry/opentelemetry-collector/pull/12865))
- `service`: Restrict the `telemetry.newPipelineTelemetry` feature gate to metrics. ([#12856](https://github.com/open-telemetry/opentelemetry-collector/pull/12856), [#12933](https://github.com/open-telemetry/opentelemetry-collector/pull/12933))
  The "off" state of this feature gate introduced a regression, where the Collector's internal logs were missing component attributes. See issue #12870 for more details on this bug.
  
  On the other hand, the "on" state introduced an issue with the Collector's default internal metrics, because the Prometheus exporter does not currently support instrumentation scope attributes.
  
  To solve both of these issues, this change turns on the new scope attributes for logs and traces by default regardless of the feature gate.
  However, the new scope attributes for metrics stay locked behind the feature gate, and will remain off by default until the Prometheus exporter is updated to support scope attributes.
  
  Please understand that enabling the `telemetry.newPipelineTelemetry` feature gate may break the export of Collector metrics through, depending on your configuration.
  Having a `batch` processor in multiple pipelines is a known trigger for this.
  
  This comes with a breaking change, where internal logs exported through OTLP will now use instrumentation scope attributes to identify the source component instead of log attributes.
  This does not affect the Collector's stderr output. See the changelog for v0.123.0 for a more detailed description of the gate's effects.
  


<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `spanmetricsconnector`: Deprecate the unused configuration `dimensions_cache_size` ([#39646](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39646))
  Deprecated configuration `dimensions_cache_size`, please use `aggregation_cardinality_limit` instead

### ðŸ’¡ Enhancements ðŸ’¡

- `spanmetricsconnector`: Add new aggregation_cardinality_limit configuration option to limit the number of unique combinations of dimensions that will be tracked for metrics aggregation. ([#38990](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38990))
- `statsdreceiver`: Add new config to customize socket permissions when transport is set to `unixgram`. ([#37807](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37807))
- `hostmetricsreceiver`: Possible to enable the process scraper under FreeBSD in the hostmetrics receiver. ([#39622](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39622))
- `pkg/ottl`: Add `ottl.WithContextInferenceConditions` option to allow configuring extra context inferrer OTTL conditions ([#39455](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39455))
- `pkg/ottl`: Add PMapGetSetter interface and StandardPMapGetSetter type. ([#39657](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39657))
- `pdata`: Add MoveTo to pcommon.Value, only type missing this ([#12877](https://github.com/open-telemetry/opentelemetry-collector/pull/12877))
- `configgrpc`: Add gRPC middleware support. ([#12603](https://github.com/open-telemetry/opentelemetry-collector/pull/12603), [#9591](https://github.com/open-telemetry/opentelemetry-collector/pull/9591))
- `confighttp`: Add HTTP middleware support. ([#12603](https://github.com/open-telemetry/opentelemetry-collector/pull/12603), [#9591](https://github.com/open-telemetry/opentelemetry-collector/pull/9591), [#7441](https://github.com/open-telemetry/opentelemetry-collector/pull/7441))

### ðŸ§° Bug fixes ðŸ§°

- `resourcedetectionprocessor`: change the EKS cluster identifier and check the cluster version instead of the existence of aws-auth configmap ([#39479](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39479))
- `filelogreceiver`: Fix frozen receiver when max_concurrent_files is 1 ([#39598](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39598))
- `transformprocessor`: Fix the context inferrer to also take into consideration the global OTTL conditions configuration. ([#39455](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39455))
- `prometheusreceiver`: When a histogram metric has both classic and native histogram buckets, keep both, instead of throwing away the native histogram buckets. ([#26555](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/26555))
  This was a technical dept from the previous implementation in PR 28663.
- `resourcedetectionprocessor`: change the EKS cluster identifier and check the cluster version instead of the existence of aws-auth configmap ([#39479](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39479))
- `pdata`: Fix MoveTo when moving to the same destination ([#12887](https://github.com/open-telemetry/opentelemetry-collector/pull/12887))
- `exporterhelper`: Do not ignore the `num_consumers` setting when batching is enabled. ([#12244](https://github.com/open-telemetry/opentelemetry-collector/pull/12244))
- `exporterhelper`: Reject elements larger than the queue capacity ([#12847](https://github.com/open-telemetry/opentelemetry-collector/pull/12847))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `docs`: Added Host Monitoring Dashboard that can be used to monitor hosts with pure OpenTelemetry data ([#513](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/513))

<!-- previous-version -->

## v0.28.1

This release includes versions v0.124.0 and v0.124.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.124.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.124.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.124.0>

v0.124.1:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.124.1>

### ðŸ›‘ Breaking changes ðŸ›‘

- `processor/transform`: Fix Basic Config style to properly handle `cache` access. ([#38926](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38926))
  The Transform processor now requires only one configuration style per processor's configuration, which means Advanced Config and Basic Config cannot be used together anymore.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `exporterhelper`: Add support for bytes-based batching for profiles in the exporterhelper package. ([#3262](https://github.com/open-telemetry/opentelemetry-collector/pull/3262))
- `otelcol`: Enhance config validation using <validate> command to capture all validation errors that prevents the collector from starting. ([#8721](https://github.com/open-telemetry/opentelemetry-collector/pull/8721))
- `exporterhelper`: Link batcher context to all batched request's span contexts. ([#12212](https://github.com/open-telemetry/opentelemetry-collector/pull/12212), [#8122](https://github.com/open-telemetry/opentelemetry-collector/pull/8122))
- `k8sattributesprocessor`: Add option to configure automatic resource attributes - with annotation prefix ([#38825](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38825))
  Implements [Specify resource attributes using Kubernetes annotations](https://github.com/open-telemetry/semantic-conventions/blob/main/docs/non-normative/k8s-attributes.md#specify-resource-attributes-using-kubernetes-annotations).
  
  If you are using the file log receiver, you can now create the same resource attributes as traces (via OTLP) received
  from an application instrumented with the OpenTelemetry Operator -
  simply by adding the `extract: { otel_annotations: true }` configuration to the `k8sattributesprocessor` processor.
  See the [documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/processor/k8sattributesprocessor/README.md#config-example) for more details.
- `ottlprofile`: Add OTTL support for profiles. ([#36104](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36104))
- `pkg/stanza`: Use buffer pool for the read buffers to limit allocations" ([#39373](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39373))
- `spanmetricsconnector`: Initialise new calls_total metrics at 0 ([#38537](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38537))
- `pkg/stanza`: Remove unnecessary slice allocation to track errors (even nil) ([#39367](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39367))

### ðŸ§° Bug fixes ðŸ§°

- `confighttp`: Ensure http authentication server failures are handled by the provided error handler ([#12666](https://github.com/open-telemetry/opentelemetry-collector/pull/12666))
- `pkg/ottl`: Fix OTTL context inference order to prioritize the `scope` context over `resource`. ([#39155](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39155))
- `pkg/ottl`: Fix so replace_all_patterns can replace keys using optional function ([#32896](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32896))
  When using the `replace_all_patterns` with `key` and `optional` function on the replacement, the value was being replaced with the key. This change fixes that and now the key is replaced as intended.
- `connector/spanmetrics`: This change proposes moving the start timestamp (and last seen timestamp) from the resourceMetrics level to the individual metrics level. This will ensure that each metric has its own accurate start and last seen timestamps, regardless of its relationship to other spans. ([#35994](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35994))
- `receiver/kubeletstats`: support user defined CA path for service account using the configtls option `ca_file` ([#39291](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39291))
- `receiver/filelog`: Remove printing to console the names of files which are read by File Log receiver ([#39414](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/39414))

---

</details>

<!-- previous-version -->

## v0.27.0

This release includes version v0.123.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.123.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.123.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.123.0>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service/telemetry`: Mark `telemetry.disableAddressFieldForInternalTelemetry` as beta, usage of deprecated service::telemetry::address are ignored ([#12756](https://github.com/open-telemetry/opentelemetry-collector/pull/12756))
  To restore the previous behavior disable `telemetry.disableAddressFieldForInternalTelemetry` feature gate.
- `exporterbatch`: Remove deprecated fields `min_size_items` and `max_size_items` from batch config. ([#12684](https://github.com/open-telemetry/opentelemetry-collector/pull/12684))
- `k8sattributesprocessor`: Remove stable feature gate `k8sattr.rfc3339` ([#38810](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38810))

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `otlpexporter`: Mark BatcherConfig as deprecated, use `sending_queue::batch` instead ([#12726](https://github.com/open-telemetry/opentelemetry-collector/pull/12726))
- `exporterhelper`: Deprecate `blocking` in favor of `block_on_overflow`. ([#12710](https://github.com/open-telemetry/opentelemetry-collector/pull/12710))
- `exporterhelper`: Deprecate configuring exporter batching separately. Use `sending_queue::batch` instead. ([#12772](https://github.com/open-telemetry/opentelemetry-collector/pull/12772))
  Moving the batching configuration to `sending_queue::batch` requires setting `sending_queue::sizer` to `items`
  which means that `sending_queue::queue_size` needs to be also increased by the average batch size number (roughly
  x5000 for the default batching configuration).
  See https://github.com/open-telemetry/opentelemetry-collector/tree/main/exporter/exporterhelper#configuration

### ðŸ’¡ Enhancements ðŸ’¡

- `exporterhelper`: Add support to configure batching in the sending queue. ([#12746](https://github.com/open-telemetry/opentelemetry-collector/pull/12746))
- `exporterhelper`: Add support for wait_for_result, remove disabled_queue ([#12742](https://github.com/open-telemetry/opentelemetry-collector/pull/12742))
  This has a side effect for users of the experimental BatchConfig with the queue disabled, since not this is | uses only NumCPU() consumers.
- `exporterhelper`: Allow exporter memory queue to use different type of sizers. ([#12708](https://github.com/open-telemetry/opentelemetry-collector/pull/12708))
- `service`: Add "telemetry.newPipelineTelemetry" feature gate to inject component-identifying attributes in internal telemetry ([#12217](https://github.com/open-telemetry/opentelemetry-collector/issues/12217))
  With the feature gate enabled, all internal telemetry (metrics/traces/logs) will include some of
  the following instrumentation scope attributes:
  - `otelcol.component.kind`
  - `otelcol.component.id`
  - `otelcol.pipeline.id`
  - `otelcol.signal`
  - `otelcol.signal.output`

  These attributes are defined in the [Pipeline Component Telemetry RFC](https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/rfcs/component-universal-telemetry.md#attributes),
  and identify the component instance from which the telemetry originates.
  They are added automatically without changes to component code.

  These attributes were already included in internal logs as regular log attributes, starting from
  v0.120.0. For consistency with other signals, they have been switched to scope attributes (with
  the exception of logs emitted to standard output), and are now enabled by the feature gate.

  Please make sure that the exporter / backend endpoint you use has support for instrumentation
  scope attributes before using this feature. If the internal telemetry is exported to another
  Collector, a transform processor could be used to turn them into other kinds of attributes if
  necessary.

- `exporterhelper`: Enable support to do batching using `bytes` sizer ([#12751](https://github.com/open-telemetry/opentelemetry-collector/pull/12751))
- `service`: Add config key to set metric views used for internal telemetry ([#10769](https://github.com/open-telemetry/opentelemetry-collector/issues/10769))
  The `service::telemetry::metrics::views` config key can now be used to explicitly set the list of
  metric views used for internal telemetry, mirroring `meter_provider::views` in the SDK config.
  This can be used to disable specific internal metrics, among other uses.

  This key will cause an error if used alongside other features which would normally implicitly create views, such as:
  - not setting `service::telemetry::metrics::level` to `detailed`;
  - enabling the `telemetry.disableHighCardinalityMetrics` feature flag.
- `spanmetricsconnector`: Add instrumentation scope to span metrics connector. ([#23662](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/23662))
  This change adds the instrumentation scope to the span metrics connector, which allows users to specify the instrumentation scope for the connector.
  Now, the connector has a new configuration option:
  - `include_instrumentation_scope`: A list of instrumentation scope names to include from the traces.

  The instrumentation scope name is the name of the instrumentation library that collected the span.
- `hostmetricsreceiver`: Reduced the cost of retrieving number of threads and parent process ID on Windows. Disable the featuregate `hostmetrics.process.onWindowsUseNewGetProcesses` to fallback to the previous implementation.
  ([#32947](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32947), [#38589](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38589))
- `hostmetricsreceiver`: Reduced the CPU cost of collecting the `process.handles` metric on Windows. ([#38886](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38886))
  Instead of using WMI to retrieve the number of opened handles by each process
  the scraper now uses the GetProcessHandleCount Win32 API which results in
  reduced CPU usage when the metric `process.handles` is enabled.

- `pkg/ottl`: Enhance the Decode OTTL function to support all flavors of Base64 ([#38854](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38854))
- `resourcedetection`: Adding the os.version resource attribute to system resourcedetection processor ([#38087](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38087))
- `pkg/stanza`: Add retries when calls to retrieve Windows event via `EvtNext` fail with error RPC_S_INVALID_BOUND (1734). ([#38149](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/38149))
  Whenever large events were read in by the Windows event log receiver, via the stanza input operator,
  the collector would fail with error RPC_S_INVALID_BOUND (1734). Now the operator tries to workaround
  this issue by reducing the number of events read on each attempt.
- `pkg/ottl`: Fix the `ottl.ParserCollection` to properly infer the OTTL context when using the `ParseConditions` function. ([#38755](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38755))

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Fix order of starting between queue and batch. ([#12705](https://github.com/open-telemetry/opentelemetry-collector/pull/12705))

---

</details>

<!-- previous-version -->

## v0.26.0

This release includes version v0.122.1/v0.122.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.122.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.122.1>

v0.122.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.122.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.122.0>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service`: Batch processor telemetry is no longer emitted at "basic" verbosity level ([#7890](https://github.com/open-telemetry/opentelemetry-collector/issues/7890))
  According to the guidelines, basic-level telemetry should be reserved for core Collector APIs.
  Components such as the batch processor should emit telemetry starting from the "normal" level
  (which is also the default level).

  Migration: If your Collector telemetry was set to `level: basic` and you want to keep seeing
  batch processor-related metrics, consider switching to `level: normal` instead.

- `deltatocumulative`: remove legacy and clean up existing collector self-monitoring metrics ([#38079](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38079))
  renamed:
  - `otelcol_deltatocumulative.datapoints.processed` to `otelcol_deltatocumulative_datapoints`
  - `otelcol_deltatocumulative.datapoints.dropped` to `otelcol_deltatocumulative_datapoints{error="..."}`
  - `otelcol_deltatocumulative.max_stale` to `otelcol_deltatocumulative_max_stale`
  - `otelcol_deltatocumulative.streams.limit` to `otelcol_deltatocumulative_streams_limit`
  - `otelcol_deltatocumulative.streams.tracked` to `otelcol_deltatocumulative_streams_tracked`
    removed (already unused):
  - `otelcol_deltatocumulative.datapoints.linear`
  - `otelcol_deltatocumulative.streams.tracked.linear`
  - `otelcol_deltatocumulative.streams.evicted`
  - `otelcol_deltatocumulative.gaps.length`

- `auth, authtest`: Remove deprecated modules extension/auth and extension/auth/authtest ([#12543](https://github.com/open-telemetry/opentelemetry-collector/issues/12543))
  Use extension/extensionauth and extension/extensionauth/extensionauthtest instead.

- `extensionauth`: Remove deprecated methods from the `Func` types. ([#12547](https://github.com/open-telemetry/opentelemetry-collector/issues/12547))

- `pkg/ottl`: Add support for parsing OTTL conditions to the `ottl.ParserCollection`. ([#37904](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37904))
  The `ottl.WithParserCollectionContext` option now requires the converters to be configured using the `ottl.WithStatementConverter` and `ottl.WithConditionConverter` options.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `exporterhelper`: Deprecate per signal converter in favor of generic version ([#12631](https://github.com/open-telemetry/opentelemetry-collector/issues/12631))
- `extensionauth`: Deprecate `extensionauth.NewClient` and `extensionauth.NewServer`. ([#12574](https://github.com/open-telemetry/opentelemetry-collector/issues/12574))
  - Manually implement the interfaces instead.

- `configauth`: Deprecate `configauth.Authenticator.GetClientAuthenticator`. ([#12574](https://github.com/open-telemetry/opentelemetry-collector/issues/12574))
  - Use the per-protocol methods instead.


### ðŸš€ New components ðŸš€

- `receiverhelper`: Split `receiverhelper` into a separate module ([#12514](https://github.com/open-telemetry/opentelemetry-collector/issues/12514))

### ðŸ’¡ Enhancements ðŸ’¡

- `service`: Add `service.AllowNoPipelines` feature gate to allow starting the Collector without pipelines. ([#12613](https://github.com/open-telemetry/opentelemetry-collector/issues/12613))
  This can be used to start with only extensions.
- `mdatagen`: Delete generated_status.go if the component type doesn't require it. ([#12346](https://github.com/open-telemetry/opentelemetry-collector/issues/12346))
- `service`: include component id/type in start error ([#10426](https://github.com/open-telemetry/opentelemetry-collector/issues/10426))
- `mdatagen`: Add deprecation date and migration guide fields as part of component metadata ([#12359](https://github.com/open-telemetry/opentelemetry-collector/issues/12359))
- `confmap`: Introduce a new feature flag to allow for merging lists instead of discarding the existing ones. ([#8394](https://github.com/open-telemetry/opentelemetry-collector/issues/8394), [#8754](https://github.com/open-telemetry/opentelemetry-collector/issues/8754), [#10370](https://github.com/open-telemetry/opentelemetry-collector/issues/10370))
  You can enable this option via the command line by running following command:
  otelcol --config=main.yaml --config=extra_config.yaml --feature-gates=-confmap.enableMergeAppendOption

- `zpagesextension`: Add expvar handler to zpages extension. ([#11081](https://github.com/open-telemetry/opentelemetry-collector/issues/11081))
- `hostmetricsreceiver`: Added the `system.linux.memory.dirty` and `system.memory.page_size` metrics. ([#38672](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38672))
- `pkg/ottl`: Enhance flatten() editor to resolve attribute key conflicts by adding a number suffix to the conflicting keys. ([#35793](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35793))
- `pkg/ottl`: Add `IsValidLuhn()` checksum verification function ([#37880](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37880))
- `pkg/ottl`: Add ability to compare maps in Boolean Expressions ([#38611](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38611))
- `pkg/ottl`: Add `Murmur3Hash`and `Murmur3Hash128` functions to convert the `target` string to Murmur3 hash in hexadecimal string format ([#34077](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/34077))
- `receiver/prometheus`: Adds the Prometheus API server to more easily debug the Prometheus config, service discovery, and targets. ([#32646](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32646))
- `processor/redaction`: Support hashing instead of masking values via 'hash_function' parameter ([#35830](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35830))
- `pkg/stanza`: Add 'regex_replace' operator ([#37443](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37443))
- `jaegerreceiver`: Remove dependency on jaeger/cmd/agent ([#38655](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38655))
- `resourceprocessor`: Add support for profile signal type ([#35979](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35979))
- `pkg/stanza`: Prevent data loss in Stanza-based receivers on ungraceful shutdown of the collector ([#35456](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35456))
  Enable the `stanza.synchronousLogEmitter` feature gate to unlock this feature.
  See the [documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/pkg/stanza/README.md) for more information.
- `cmd/mdatagen`: Add `supportsSignal` func for `Metadata` type in `mdatagen`. ([#12640](https://github.com/open-telemetry/opentelemetry-collector/issues/12640))
- `receiver`: Mark module as stable ([#12513](https://github.com/open-telemetry/opentelemetry-collector/issues/12513))
- `pdata/pcommon`: Introduce `Equal()` method for comparison equality to `Value`, `ByteSlice`, `Float64Slice`, `Int32Slice`, `Int64Slice`, `StringSlice`, `Uint64Slice`, `Map` and `Slice` ([#12594](https://github.com/open-telemetry/opentelemetry-collector/issues/12594))
- `pdata`: Add iterator All method to pdata slices and map types. ([#11982](https://github.com/open-telemetry/opentelemetry-collector/issues/11982))
- `receiver/prometheus`: Adds the Prometheus API server to more easily debug the Prometheus config, service discovery, and targets. ([#32646](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32646))

### ðŸ§° Bug fixes ðŸ§°

- `confmap`: Ensure slices with defaults containing struct values are correctly set. ([#12661](https://github.com/open-telemetry/opentelemetry-collector/issues/12661))
  This reverts the changes made in https://github.com/open-telemetry/opentelemetry-collector/pull/11882.
- `confmap`: Maintain nil values when marshaling or unmarshaling nil slices ([#11882](https://github.com/open-telemetry/opentelemetry-collector/issues/11882))
  Previously, nil slices were converted to empty lists, which are semantically different
  than a nil slice. This change makes this conversion more consistent when encoding
  or decoding config, and these values are now maintained.
- `service`: do not attempt to register process metrics if they are disabled ([#12098](https://github.com/open-telemetry/opentelemetry-collector/issues/12098))

- `filelogreceiver`: Extend container parser log file path pattern to include rotated files. ([#35137](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35137))
- `attributesprocessor`: Validate metrics configuration parameters before processing ([#36077](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36077))
- `pkg/ottl`: Fix limitation of map literals within slice literals not being handled correctly ([#37405](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37405))

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `receiver/netflow`: Include the netflow receiver in the distribution ([#489](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/489))

### ðŸ§° Bug fixes ðŸ§°

- `linux packages`: Ensure Linux package scripts work in chrooted environments without Systemd running

<!-- previous-version -->

## 0.25.0

This release includes version 0.121.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.121.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.121.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.121.0>

### ðŸ›‘ Breaking changes ðŸ›‘

- `confighttp`: Make the client config options `max_idle_conns`, `max_idle_conns_per_host`, `max_conns_per_host`, and `idle_conn_timeout` integers ([#9478](https://github.com/open-telemetry/opentelemetry-collector/issues/9478))
  All four options can be set to `0` where they were previously set to `null`
- `processor/k8sattributes`: Move k8sattr.fieldExtractConfigRegex.disallow feature gate to stable ([#25128](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/25128))

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `exporterhelper`: Deprecate `min_size_items` and `max_size_items` in favor of `min_size` and `max_size`. ([#12486](https://github.com/open-telemetry/opentelemetry-collector/issues/12486))
- `prometheusreceiver`: Deprecate metric start time adjustment in the prometheus receiver. It is being replaced by the metricstarttime processor. ([#37186](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37186))
  Start time adjustment is still enabled by default. To disable it, enable the | receiver.prometheusreceiver.RemoveStartTimeAdjustment feature gate.

### ðŸ’¡ Enhancements ðŸ’¡

- `mdatagen`: Add `converter` and `provider` module classes ([#12467](https://github.com/open-telemetry/opentelemetry-collector/issues/12467))
- `pipeline`: output pipeline name with signal as signal[/name] format in logs. ([#12410](https://github.com/open-telemetry/opentelemetry-collector/issues/12410))
- `memorylimiterprocessor`: Add support to configure min GC intervals for soft and hard limits. ([#12450](https://github.com/open-telemetry/opentelemetry-collector/issues/12450))
- `otlpexporter`: Update the stability level for logs, it has been as stable as traces and metrics for some time. ([#12423](https://github.com/open-telemetry/opentelemetry-collector/issues/12423))
- `service`: Create a new subcommand to dump the initial configuration after resolving/merging. ([#11479](https://github.com/open-telemetry/opentelemetry-collector/issues/11479))
  To use the `print-initial-config` subcommand, invoke the Collector with the subcommand and corresponding feature gate: `otelcol print-initial-config --feature-gates=otelcol.printInitialConfig --config=config.yaml`.
  Note that the feature gate enabling this flag is currently in alpha stability, and the subcommand may
  be changed in the future.

- `memorylimiterprocessor`: Add support for profiles. ([#12453](https://github.com/open-telemetry/opentelemetry-collector/issues/12453))
- `otelcol`: Converters are now available in the `components` command. ([#11900](https://github.com/open-telemetry/opentelemetry-collector/issues/11900), [#12385](https://github.com/open-telemetry/opentelemetry-collector/issues/12385))
- `confmap`: Surface YAML parsing errors when they happen at the top-level. ([#12180](https://github.com/open-telemetry/opentelemetry-collector/issues/12180))
  This adds context to some instances of the error "retrieved value (type=string) cannot be used as a Conf", which typically happens because of invalid YAML documents

- `exporterhelper`: Stabilize exporter.UsePullingBasedExporterQueueBatcher and remove old batch sender ([#12425](https://github.com/open-telemetry/opentelemetry-collector/issues/12425))
- `mdatagen`: Update metadata schema with new fields without enforcing them ([#12359](https://github.com/open-telemetry/opentelemetry-collector/issues/12359))
- `telemetrygen`: Support `--service` for all signal types, rather than just traces ([#38044](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38044))
- `resourcedetectionprocessor`: Introduce retry logic for failed resource detection. ([#34761](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/34761))
- `pkg/ottl`: Support dynamic indexing of math expressions in maps and slices ([#37644](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37644))
- `pkg/stanza`: Add entry's timestamp and attributes to errors logs from log transformers processors ([#37285](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37285))
  When a log transformer processor fails to process an log entry it will include entry's timestamp and attributes in its own logs.
  With this information the user can more easily identify the log file and find the entry that's having issues.

- `resourcedetectionprocessor`: Add k8s.cluster.uid to kubeadm detector ([#38207](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38207))
- `telemetrygen`: Add support for `aggregation-temporality` flag in telemetrygen.  Supported values (delta or cumulative) ([#38073](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38073))
- `pkg/ottl`: Add `event_index` to the available paths of the span event context ([#35778](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35778))
- `pkg/ottl`: Introduce Weekday() converter function ([#38126](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38126))
- `prometheusreceiver`: Make use of creation timestamp from prometheus ([#36473](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36473))
- `redactionprocessor`: Introduce 'blocked_key_patterns' parameter ([#35830](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/35830))
- `resourcedetectionprocessor`: Add a feature flag to allow the processor (and collector) to fail if resource detection fails ([#37961](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/37961))
  This feature can be enabled via the following feature gate
  `--feature-gates=processor.resourcedetection.propagateerrors`

### ðŸ§° Bug fixes ðŸ§°

- `service`: Fix crash at startup when converting from v0.2.0 to v0.3.0 ([#12438](https://github.com/open-telemetry/opentelemetry-collector/issues/12438))
- `service`: fix bug in parsing service::telemetry configuration ([#12437](https://github.com/open-telemetry/opentelemetry-collector/issues/12437))
- `exporterhelper`: Fix bug where the error logged when conversion of data fails is always nil ([#12510](https://github.com/open-telemetry/opentelemetry-collector/issues/12510))
- `mdatagen`: Adds back missing import for filter when emitting resource attributes ([#12455](https://github.com/open-telemetry/opentelemetry-collector/issues/12455))
- `redactionprocessor`: Fix redaction processor to redact span event attributes ([#36633](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36633))
- `pkg/ottl`: Change the `ottlmetric` context to properly display the `TransformContext` value in debug logs ([#38103](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/38103))

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `resourcedetectionprocessor`: Added configuration example and integration test for the new Dynatrace Resource Detection processor component. ([#475](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/475))

## v0.24.0

This release includes version 0.120.0/0.120.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.120.1:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.120.1>

v0.120.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.120.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.120.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `all`: Added support for go1.24, bumped minimum version to 1.23 [#12370](https://github.com/open-telemetry/opentelemetry-collector/pull/12370)
- `mdatagen`: Removing deprecated generated funcs and a few test funcs as well. [#12304](https://github.com/open-telemetry/opentelemetry-collector/pull/12304)
- `service`: Align component logger attributes with those defined in RFC [#12217](https://github.com/open-telemetry/opentelemetry-collector/pull/12217)
  See [Pipeline Component Telemetry RFC](https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/rfcs/component-universal-telemetry.md#attributes)
- `receiver/hostmetrics`: Remove receiver.hostmetrics.normalizeProcessCPUUtilization feature gate [#34763](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34763)
- `tailsamplingprocessor`: Fix the decision timer metric to capture longer latencies beyond 50ms. [#37722](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37722)
  This changes the unit of the decision timer metric from microseconds to milliseconds.
- `receiver/prometheus`: Prometheus receiver now uses scrapers in Prometheus 3.0. ([#36873](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36873))
  There are a number of breaking changes in Prometheus 3.0. Learn more about those changes and migration guide on https://prometheus.io/docs/prometheus/latest/migration/.
  The Prometheus receiver now uses the UTF-8 validation scheme by default, which means that metric and label names
  can change after upgrading to this release, as mentioned in the [Prometheus 3.0 migration guide](https://prometheus.io/docs/prometheus/latest/migration/#utf-8-names).
  This can have an effect on the OTel resources created by the Prometheus receiver in particular, if previously the `service_name` label
  has been present in the metrics returned by a Prometheus scrape target. Now, this label will be delivered as `service.name` and can thus override the
  value of the related OTel resource which has been determined by the `job` label. To keep the previous behavior, the `legacy` validation scheme can be set, in the prometheus config,
  either globally, or on a per-scrape basis:

  **Globally**:
  ```yaml
  receivers:
    prometheus:
      metric_name_validation_scheme: legacy
      config:
        scrape_configs:
        - job_name: opentelemetry-collector
  ```

  **Per Scrape**:
  ```yaml
  receivers:
    prometheus:
      config:
        scrape_configs:
        - job_name: job1
          metric_name_validation_scheme: utf8
        - job_name: opentelemetry-collector
          metric_name_validation_scheme: legacy
  ```

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `otlpreceiver`: Update stability for logs [#12335](https://github.com/open-telemetry/opentelemetry-collector/pull/12335)
- `exporterhelper`: Implement sync disabled queue used when batching is enabled. [#12245](https://github.com/open-telemetry/opentelemetry-collector/pull/12245)
- `exporterhelper`: Enable the new pull-based batcher in exporterhelper [#12291](https://github.com/open-telemetry/opentelemetry-collector/pull/12291)
- `exporterhelper`: Update queue size after the element is done exported [#12399](https://github.com/open-telemetry/opentelemetry-collector/pull/12399)
  After this change the active queue size will include elements in the process of being exported.
- `otelcol`: Add featuregate command to display information about available features [#11998](https://github.com/open-telemetry/opentelemetry-collector/pull/11998)
  The featuregate command allows users to view detailed information about feature gates
  including their status, stage, and description.
- `processor/transformprocessor`: Add support for global conditions and error mode overrides. [#29017](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017)
  Global conditions are now available for context-inferred structured configurations, allowing the use of fully
  qualified paths. Additionally, a new configuration key called `error_mode` has been added to the context statements group.
  This key determines how the processor reacts to errors that occur while processing that specific group of statements.
  When provided, it overrides the top-level error mode, offering more granular control over error handling.

- `pkg/stanza`: Allow users to configure initial buffer size [#37786](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37786)
- `k8sclusterreceiver`: Adds new descriptive attributes/metadata to the k8s.namespace and the container entity emitted from k8sclusterreceiver. [#37580](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37580)
  - Adds the following attributes to k8s.namespace entity:
    - k8s.namespace.phase: The phase of a namespace indicates where the namespace is in its lifecycle. E.g. 'active', 'terminating'
    - k8s.namespace.creation_timestamp: The time when the namespace object was created.
  - Adds the following attributes to container entity:
    - container.creation_timestamp: The time when the container was started. Only available if container is either in 'running' or 'terminated' state.

- `pkg/ottl`: Introduce ToLowerCase converter function [#32942](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32942)
- `pkg/ottl`: Introduce ToSnakeCase converter function [#32942](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32942)
- `pkg/ottl`: Introduce ToUpperCase converter function [#32942](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32942)
- `resourcedetectionprocessor`: add the Dynatrace detector to the resource detection processor [#37577](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37577)
- `processor/redaction`: Introduce 'allowed_values' parameter for allowed values of attributes [#35840](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35840)
- `syslogreceiver`: Support setting `on_error` config for syslog receiver. [#36906](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36906)
- `processor/tailsampling`: Adds support for optionally recording the policy (and any composite policy) associated with an inclusive tail processor sampling decision.
  This functionality is disabled by default, you can enable it by passing the following feature flag to the collector: `+processor.tailsamplingprocessor.recordpolicy`
  [#35180](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35180)
- `tailsamplingprocessor`: makes the `numeric_attribute` more flexible and allows to set only `min_value` or `max_value`, without the need to set both [#37328](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37328)
  This is useful to have simple configurations like these:
  ```
  {
    type: numeric_attribute,
    numeric_attribute: {
      key: http.status_code,
      min_value: 400
    }
  }
  ```
- `receiver/zipkinreceiver`: Remove zipkinreceiver dependency on Jaeger [#37795](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37795)

### ðŸ§° Bug fixes ðŸ§°

- `memorylimiter`: Logger no longer attributes to single signal, pipeline, or component. [#12217](https://github.com/open-telemetry/opentelemetry-collector/pull/12217)
- `otlpreceiver`: Logger no longer attributes to random signal when receiving multiple signals. [#12217](https://github.com/open-telemetry/opentelemetry-collector/pull/12217)
- `exporterhelper`: Fix undefined behavior access to request after send to next component. This causes random memory access. [#12281](https://github.com/open-telemetry/opentelemetry-collector/pull/12281)
- `exporterhelper`: Fix default batcher to correctly call all done callbacks exactly once [#12247](https://github.com/open-telemetry/opentelemetry-collector/pull/12247)
- `otlpreceiver`: Fix OTLP http receiver to correctly set Retry-After [#12367](https://github.com/open-telemetry/opentelemetry-collector/pull/12367)
- `otlphttpexporter`: Fix parsing logic for Retry-After in OTLP http protocol. [#12366](https://github.com/open-telemetry/opentelemetry-collector/pull/12366)
  The value of Retry-After field can be either an HTTP-date or delay-seconds and the current logic only parsed delay-seconds.
- `cmd/builder`: Ensure unique aliases for modules with same suffix [#12201](https://github.com/open-telemetry/opentelemetry-collector/pull/12201)
- `k8sattributes`: Fix bug where `Filters.Labels` failed with when the `exists` or `not-exists` operations were used. [#37913](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37913)
- `prometheusreceiver`: Start time metric adjuster now handles reset points correctly [#37717](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37717)
---

</details>

## v0.23.0

This release includes version 0.119.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.119.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.119.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.119.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `exporterhelper`: Change queue to embed the async consumers. ([#12242](https://github.com/open-telemetry/opentelemetry-collector/pull/12242))
- `cmd/mdatagen`: Allow passing OTel Metric SDK options to the generated `SetupTelemetry` function. ([#12166](https://github.com/open-telemetry/opentelemetry-collector/pull/12166))
- `exporterhelper`: Rename exporter span signal specific attributes (e.g. "sent_spans" / "send_failed_span") to "items.sent" / "items.failed". ([#12165](https://github.com/open-telemetry/opentelemetry-collector/pull/12165))
- `cmd/mdatagen`: Remove dead field `telemetry::level` ([#12144](https://github.com/open-telemetry/opentelemetry-collector/pull/12144))
- `exporterhelper`: Change exporter ID to be a Span level attribute instead on each event. ([#12164](https://github.com/open-telemetry/opentelemetry-collector/pull/12164))
  This does not have an impact on the level of information emitted, but on the structure of the Span.
- `cmd/mdatagen`: Remove `level` field from metrics definition ([#12145](https://github.com/open-telemetry/opentelemetry-collector/pull/12145))
  This mechanism will be added back once a new views mechanism is implemented.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `configtls`: Allow users to mention their preferred curve types for ECDHE handshake ([#12174](https://github.com/open-telemetry/opentelemetry-collector/pull/12174))
- `otelcol`: Adds support for listing config providers in components command's output ([#11570](https://github.com/open-telemetry/opentelemetry-collector/pull/11570))
- `pdata/pprofile`: Add new helper method `FromAttributeIndices` to build a `pcommon.Map` out of `AttributeIndices`. ([#12176](https://github.com/open-telemetry/opentelemetry-collector/pull/12176))
- `component`: Allow `component.ValidateConfig` to recurse through all fields in a config object ([#11524](https://github.com/open-telemetry/opentelemetry-collector/pull/11524))
- `component`: Show path to invalid config in errors returned from `component.ValidateConfig` ([#12108](https://github.com/open-telemetry/opentelemetry-collector/pull/12108))

- `processor/transformprocessor`: Add support for flat configuration style. ([#29017](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017))
  The flat configuration style allows users to configure statements by providing a list of statements instead of a
  structured configuration map. The statement's context is expressed by adding the context's name prefix to path names,
  which are used to infer and to select the appropriate context for the statement.

- `resourcedetectionprocessor`: Expose additional configuration parameters for the AWS metadata client used by the EC2 detector ([#35936](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35936))
  In some cases, you might need to change the behavior of the AWS metadata client from the [standard retryer](https://docs.aws.amazon.com/sdk-for-go/v2/developer-guide/configure-retries-timeouts.html)
  
  By default, the client retries 3 times with a max backoff delay of 20s.
  
  We offer a limited set of options to override those defaults specifically, such that you can set the client to retry 10 times, for up to 5 minutes, for example:
  ```yaml
  processors:
    resourcedetection/ec2:
      detectors: ["ec2"]
      ec2:
        max_attempts: 10
        max_backoff: 5m
  ```
  
- `cumulativetodeltaprocessor`: Add metric type filter for cumulativetodelta processor ([#33673](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33673))
- `resourcedetectionprocessor`: Add `fail_on_missing_metadata` option on EC2 detector ([#35936](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35936))
  If the EC2 metadata endpoint is unavailable, the EC2 detector by default ignores the error.
  By setting `fail_on_missing_metadata` to true on the detector, the user will now trigger an error explicitly,
  which will stop the collector from starting.

- `resourcedetectionprocessor`: The `gcp` resource detector will now detect resource attributes identifying a GCE instance's managed instance group. ([#36142](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36142))
- `jaegerreceiver`: Log the endpoints of different servers started by jaegerreceiver ([#36961](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36961))
  This change logs the endpoints of different servers started by jaegerreceiver. It simplifies debugging by ensuring log messages match configuration settings.
  
- `receiver/hostmetrics`: Added support for tracking process.uptime ([#36667](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36667))
- `processor/transformprocessor`: Replace parser collection implementations with `ottl.ParserCollection` and add initial support for expressing statement's context via path names. ([#29017](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017))
- `prometheusreceiver`: Add `receiver.prometheusreceiver.UseCollectorStartTimeFallback` featuregate for the start time metric adjuster to use the collector start time as an approximation of process start time as a fallback. ([#36364](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36364))
- `tailsamplingprocessor`: Reworked the consume traces, sampling decision, and policy loading paths to improve performance and readability ([#37560](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37560))

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Fix bug that the exporter with new batcher may have been marked as non mutation. ([#12239](https://github.com/open-telemetry/opentelemetry-collector/pull/12239))
  Only affects users that manually turned on `exporter.UsePullingBasedExporterQueueBatcher` featuregate.
- `confighttp`: confighttp.ToServer now sets ErrorLog with a default logger backed by Zap ([#11820](https://github.com/open-telemetry/opentelemetry-collector/pull/11820))

  This change ensures that the http.Server's ErrorLog is correctly set using Zap's logger at the error level, addressing the issue of error logs being printed using a different logger.
  
- `exporterhelper`: Fix context propagation for DisabledBatcher ([#12231](https://github.com/open-telemetry/opentelemetry-collector/pull/12231))
- `mdatagen`: Fix bug where Histograms were marked as not supporting temporaly aggregation ([#12168](https://github.com/open-telemetry/opentelemetry-collector/pull/12168))
- `exporterhelper`: Fix MergeSplit issue that ignores the initial message size. ([#12257](https://github.com/open-telemetry/opentelemetry-collector/pull/12257))
- `filelogreceiver`: Fix issue where flushed tokens could be truncated. ([#35042](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35042))
- `k8sattributesprocessor`: Wait for the other informers to complete their initial sync before starting the pod informers ([#37056](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37056))
- `pkg/stanza`: Fix default source identifier in recombine operator ([#37210](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37210))
  Its defualt value is now aligned with the semantic conventions: `attributes["log.file.path"]`
  
- `tailsamplingprocessor`: Fixed sampling decision metrics `otelcol_processor_tail_sampling_sampling_trace_dropped_too_early` and `otelcol_processor_tail_sampling_sampling_policy_evaluation_error_total`, these were sometimes overcounted. ([#37212](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37212))
  As a result of this change non-zero values of `otelcol_processor_tail_sampling_sampling_trace_dropped_too_early`
  and `otelcol_processor_tail_sampling_sampling_policy_evaluation_error_total` metrics will be lower.
  Before this fix, errors got counted several times depending on the amount of traces being processed
  that tick and where in the batch the error happened.
  Zero values are unaffected.

---

</details>

## v0.22.0

This release includes version 0.118.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.118.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.118.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.118.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/stanza`: Move `filelog.container.removeOriginalTimeField` feature gate to stable (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33389)
- `pkg/ottl`: Support dynamic indexing of maps and slices. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36644)

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `exporterhelper`: Add blocking option to control queue behavior when full (https://github.com/open-telemetry/opentelemetry-collector/pull/12090)
- `debugexporter`: Add EventName to debug exporter for Logs. EventName was added as top-level field in the LogRecord from 1.5.0 of proto definition. (https://github.com/open-telemetry/opentelemetry-collector/pull/11966)
- `confighttp`: Added support for configuring compression levels. (https://github.com/open-telemetry/opentelemetry-collector/pull/10467)
  A new configuration option called CompressionParams has been added to confighttp.
  This allows users to configure the compression levels for the confighttp client.
- `exporterhelper`: Change the memory queue implementation to not pre-allocate capacity objects. (https://github.com/open-telemetry/opentelemetry-collector/pull/12070)
  This change improves memory usage of the collector under low utilization and is a prerequisite for supporting different other size limitations (number of items, bytes).
- `pkg/ottl`: Add the `Nanosecond` converter to return the nanosecond component from the specified time.Time (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37042)
- `pkg/ottl`: Add the `Second` converter to return the second component from the specified time.Time (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37042)
- `pkg/ottl`: Enhanced error messages for invalid cache access and introduced options to configure their values within the OTTL contexts. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29017)
- `pkg/ottl`: Add the `FormatTime` function to convert `time.Time` values to human-readable strings (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36870)
- `resourcedetectionprocessor`: This enhancement detects AWS EKS cloud account ID (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37179)
- `resourcedetectionprocessor`: Introduce kubeadm detector to retrieve local cluster name. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35116)
- `k8sattributesprocessor`: For pods with only one container, the `container.id` and `k8s.container.name` are not longer required in the resource attributes to add the container attributes (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34189)
- `tailsamplingprocessor`: Added debug logging to the sampling decision caches. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37038)
- `tailsamplingprocessor`: Improved not sampled decision cache usage and deleting traces from the internal map when they are in a decision cache. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37189)

### ðŸ§° Bug fixes ðŸ§°

- `k8sattributesprocessor`: Ensure the pods gathered by the processor contain the information about their related replica sets and deployments after the initial sync (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37056)
- `pkg/ottl`: Fix bug with `replace_all_matches` and `replace_all_patterns` that caused non-string values to be changed to empty string when matching against empty string. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37071)
- `tailsamplingprocessor`: Fixed sampling policy evaluation debug logging batch metrics (e.g. sampled). (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37040)
- `tailsamplingprocessor`: Late span age histogram should include sampled traces. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37180)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `release`: Add builds for ppc64le and s390x architectures ([#424](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/424))

## v0.21.0

This release includes version v0.117.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.117.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.117.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.117.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `otelcol`: Remove warnings when 0.0.0.0 is used (https://github.com/open-telemetry/opentelemetry-collector/pull/11713, https://github.com/open-telemetry/opentelemetry-collector/pull/8510)
- `pkg/ottl`: removed the ability to reference entire parent objects. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36872)
  Statements like `set(cache["resource"], resource)` in non-resource contexts will no longer work.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Add a new ottl trim function that trims leading and trailing characters from a string (default- whitespace). (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34100)
- `statsdreceiver`: Add UDS support to statsdreceiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/21385)
- `tailsamplingprocessor`: Support hot sampling policy loading (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/37014)

### ðŸ§° Bug fixes ðŸ§°

- `internal/sharedcomponent`: Fixed bug where sharedcomponent would use too much memory remembering all the previously reported statuses (https://github.com/open-telemetry/opentelemetry-collector/pull/11826)
- `pkg/ottl`: fix handling of nested maps within slices in the `flatten` function (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36162)

---

</details>

v0.116.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.116.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.116.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `pdata/pprofile`: Remove deprecated `Profile.EndTime` and `Profile.SetEndTime` methods. (https://github.com/open-telemetry/opentelemetry-collector/pull/11796)
- `processor/tailsampling`: Reverts https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33671, allowing for composite policies to specify inverted clauses in conjunction with other policies. This is a change bringing the previous state into place, breaking users who rely on what was introduced as part of https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33671. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34085)

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `xconfighttp`: Add WithOtelHTTPOptions to experimental module xconfighttp (https://github.com/open-telemetry/opentelemetry-collector/pull/11770)
- `pkg/ottl`: GetXML Converter now supports selecting text, CDATA, and attribute (value) content. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36821)
- `pkg/pdatatest`: Add support for Profiles signal comparison. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36232)
- `testbed`: Add batcher performance tests (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36206)
- `testbed`: add options for retry/storage for filelog sender (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36781)

### ðŸ§° Bug fixes ðŸ§°

- `exporterhelper`: Fix memory leak at exporter shutdown (https://github.com/open-telemetry/opentelemetry-collector/pull/11401)
- `sharedcomponent`: Remove race-condition and cleanup locking (https://github.com/open-telemetry/opentelemetry-collector/pull/11819)
- `receiver/prometheusreceiver`: Metric adjuster no longer assumes that all metrics from a scrape come from the same resource (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36477)
- `parseutils`: Handle escaped quotes when parsing pairs using SplitString. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36176)
- `jaegerreceiver`: Remove ineffectual warning from jaegerreceiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35894)

---

</details>

## v0.20.0

This release includes version 0.115.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.115.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.115.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.115.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `otelcol`: Change all logged timestamps to ISO8601. ([#10543](https://github.com/open-telemetry/opentelemetry-collector/pull/10543))
  This makes log timestamps human-readable (as opposed to epoch seconds in
  scientific notation), but may break users trying to parse logged lines in the
  old format.
- `k8sattributesprocessor`: Move k8sattr.fieldExtractConfigRegex.disallow feature gate to Beta. ([#25128](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/25128))
  Disable the k8sattr.fieldExtractConfigRegex.disallow feature gate to get the old behavior.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `statsdreceiver`: Adapt statsd receiver example config to remove filtering of histogram metrics ([#385](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/385))
- `tailsamplingprocessor`: Adds decision cache for non-sampled trace IDs ([#31583](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31583))

### ðŸ§° Bug fixes ðŸ§°

- `service`: ensure OTLP emitted logs respect severity ([#11718](https://github.com/open-telemetry/opentelemetry-collector/pull/11718))
- `processor/k8sattribute`: fixes parsing of k8s image names to support images with tags and digests. ([#36131](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/36131))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `statsdreceiver`: Adapt statsd receiver example config to remove filtering of histogram metrics ([#385](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/385))


## v0.19.0

This release includes version 0.114.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.114.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.114.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.114.0>

#### ðŸ›‘ Breaking changes ðŸ›‘

- `exporter`: Remove deprecated funcs Create[*]Exporter and [*]ExporterStability (https://github.com/open-telemetry/opentelemetry-collector/pull/11662)
- `extension`: Remove deprecated funcs CreateExtension and ExtensionStability (https://github.com/open-telemetry/opentelemetry-collector/pull/11663)
- `pkg/stanza`: Changed signature of `emit.Callback` function in `pkg/stanza/fileconsumer/emit` package by introducing `emit.Token` struct that encapsulates the token's body and attributes. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36260)

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `cmd/builder`: Allow for replacing of local Providers and Converters when building custom collector with ocb. (https://github.com/open-telemetry/opentelemetry-collector/pull/11649)
- `cmd/builder`: Allow configuring `confmap.Converter` components in ocb. (https://github.com/open-telemetry/opentelemetry-collector/pull/11582)
- `all`: shorten time period before removing an unmaintained component from 6 months to 3 months (https://github.com/open-telemetry/opentelemetry-collector/pull/11664)

- `k8sattributesprocessor`: Add support for profiles signal (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35983)
- `resourcedetectionprocessor`: Introduce support for Profiles signal type. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35980)

### ðŸ§° Bug fixes ðŸ§°

- `pkg/stanza`: Ensure that time parsing happens before entry is sent to downstream operators (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36213)
- `pkg/stanza`: Synchronous handling of entries passed from the log emitter to the receiver adapter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35453)
- `processor/k8sattributes`: Block when starting until the metadata have been synced, to fix that some data couldn't be associated with metadata when the agent was just started. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32556)
- `pkg/ottl`: Respect the depth option when flattening slices using flatten (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36161)
The depth option is also now required to be at least 1.

</details>

## v0.18.0

This release includes version 0.113.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.113.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.113.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.113.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `internal/fanoutconsumer`: Extract internal/fanoutconsumer as a separate go module (https://github.com/open-telemetry/opentelemetry-collector/pull/11441)
- `builder`: Remove builder support to build old version, and the otelcol_version config (https://github.com/open-telemetry/opentelemetry-collector/pull/11405)
  User should remove this property from their config, to build older versions use older builders.
- `receiver`: Make receivertest into its own module (https://github.com/open-telemetry/opentelemetry-collector/pull/11462)
- `builder`: Remove deprecated flags from Builder (https://github.com/open-telemetry/opentelemetry-collector/pull/11576)
  Here is the list of flags | --name, --description, --version, --otelcol-version, --go, --module
- `internal/sharedcomponent`: Extract internal/sharedcomponent as a separate go module (https://github.com/open-telemetry/opentelemetry-collector/pull/11442)

- `pkg/ottl`: Promote `processor.transform.ConvertBetweenSumAndGaugeMetricContext` feature gate to Stable (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/36216)
    This gate can no longer be disabled. The `convert_sum_to_gauge` and `convert_gauge_to_sum` may now only be used with the `metric` context.
- `hostmetrics`: Adjust scraper creation to make it so the scraper name is reported with hostmetrics scraper errors. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35814)
- `pkg/ottl`: Add SliceToMap function (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35256)

### ðŸ’¡ Enhancements ðŸ’¡

- `mdatagen`: Add otlp as supported distribution (https://github.com/open-telemetry/opentelemetry-collector/pull/11527)
- `batchprocessor`: Move single shard batcher creation to the constructor (https://github.com/open-telemetry/opentelemetry-collector/pull/11594)
- `service`: add support for using the otelzap bridge and emit logs using the OTel Go SDK (https://github.com/open-telemetry/opentelemetry-collector/pull/10544)

- `hostmetricsreceiver`: Add the system.uptime metric in the hostmetrics receiver (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/31627)
  This metric is provided by the new `system` scraper.

### ðŸ§° Bug fixes ðŸ§°

- `service`: ensure traces and logs emitted by the otel go SDK use the same resource information (https://github.com/open-telemetry/opentelemetry-collector/pull/11578)
- `config/configgrpc`: Patch for bug in the grpc-go NewClient that makes the way the hostname is resolved incompatible with the way proxy setting are applied. (https://github.com/open-telemetry/opentelemetry-collector/pull/11537)
- `builder`: Update builder default providers to lastest stable releases (https://github.com/open-telemetry/opentelemetry-collector/pull/11566)

- `pkg/stanza`: Fixed bug causing Operators with DropOnErrorQuiet to send log entries to the next operator. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35010)
  This issue was introduced by a bug fix meant to ensure Silent Operators are not logging errors (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35010). With this fix,
  this side effect bug has been resolved.
- `receiver/filelog`: fix record counting with header (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35869)
- `pkg/stanza/operator`: Retain Operator should propagate the severity field (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35832)
  The retain operator should propagate the severity field like it does with timestamps.

- `pkg/stanza`: Handle error of callback function of `ParserOperator.ProcessWithCallback` (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35769)
  `ProcessWithCallback` of `ParserOperator` first calls the `ParseWith` method
  which properly handles errors with `HandleEntryError`.
  Then the callback function is called and its returned error should also
  be handled by the `HandleEntryError` ensuring a consistent experience.
---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `transformprocessor`: Extend the user data filtering example with a statement for masking the `client.address` attribute. ([#356](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/356))
- `transformprocessor`: Extend the credit card and IBAN filtering example with log body filtering ([#357](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/357))
- `docs`: Add a note about k8s enrichment of collector internal telemetry ([#364](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/364))

## v0.17.0

This release includes version 0.112.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.112.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.112.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.112.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Add ConvertAttributesToElementsXML Converter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35328)
- `pkg/ottl`: Parsing invalid statements and conditions now prints all errors instead of just the first one found. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35728)
- `pkg/ottl`: Add ParseSimplifiedXML Converter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35421)
- `pkg/ottl`: Add ConvertTextToElements Converter (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35364)

### ðŸ§° Bug fixes ðŸ§°

- `filelogreceiver`: Supports `add_metadata_from_filepath` for Windows filepaths (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35558)
- `filelogreceiver`: Suppress errors on EBADF when unlocking files. (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35706)
  This error is harmless and happens regularly when delete_after_read is set. This is because we acquire the lock right at the start of the ReadToEnd function and then defer the unlock, but that function also performs the delete. So, by the time it returns and the defer runs the file descriptor is no longer valid.
- `hostmetricsreceiver`: Fix duplicate filesystem metrics (https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34635, https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34512)
  The hostmetrics exposes duplicate metrics of identical mounts exposed in namespaces. The duplication causes errors in exporters that are sensitive to duplicate metrics. We can safely drop the duplicates as the metrics should be exactly the same.

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `redactionprocessor`: Add example config for redacting credit card numbers. ([#337](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/337))
- `transformprocessor`: Add example for DT API Token filtering using the redaction and transform processor. ([#346](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/346))
- `transformprocessor`: Introduce masking example of credit card numbers. ([#340](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/340))
- `transformprocessor`: Introduce masking and redaction example of international IBANs. ([#343](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/343))
- `transformprocessor`: Add config example for redacting user related data with transform processor ([#342](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/342))

### ðŸ§° Bug fixes ðŸ§°

- `installer`: Move the documentation key in the linux service file to the correct section ([#334](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/334))

## v0.16.0

This release includes version 0.111.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.111.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.111.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.111.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service/telemetry`: Change default metrics address to "localhost:8888" instead of ":8888" ([#11251](https://github.com/open-telemetry/opentelemetry-collector/pull/11251))
  This behavior can be disabled by disabling the feature gate 'telemetry.UseLocalHostAsDefaultMetricsAddress'.
- `config`: Move component.UseLocalHostAsDefaultHost feature gate to stable and therefore remove the ability to disable it. ([#35569](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35569))


### ðŸš© Deprecations ðŸš©

- `service/telemetry`: Deprecate service::telemetry::metrics::address in favor of service::telemetry::metrics::readers. ([#11205](https://github.com/open-telemetry/opentelemetry-collector/pull/11205))
- `processorhelper`: Deprecate BuildProcessorMetricName as it's no longer needed since introduction of mdatagen ([#11328](https://github.com/open-telemetry/opentelemetry-collector/pull/11328))


### ðŸ’¡ Enhancements ðŸ’¡

- `confighttp`: Snappy compression to lazy read for memory efficiency ([#11177](https://github.com/open-telemetry/opentelemetry-collector/pull/11177))
- `httpsprovider`: Mark the httpsprovider as stable. ([#11191](https://github.com/open-telemetry/opentelemetry-collector/pull/11191))
- `httpprovider`: Mark the httpprovider as stable. ([#11191](https://github.com/open-telemetry/opentelemetry-collector/pull/11191))
- `yamlprovider`: Mark the yamlprovider as stable. ([#11192](https://github.com/open-telemetry/opentelemetry-collector/pull/11192))
- `confmap`: Allow using any YAML structure as a string when loading configuration including time.Time formats ([#10659](https://github.com/open-telemetry/opentelemetry-collector/pull/10659))
  Previously, fields with time.Time formats could not be used as strings in configurations
- `receiver/statsd`: Add support for aggregating on Host/IP.
  ([#23809](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/23809))
- `hostmetricsreceiver`: Add ability to mute all errors (mainly due to access rights) coming from process scraper of the hostmetricsreceiver ([#20435](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/20435))
- `pkg/ottl`: Add InsertXML Converter ([#35436](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35436))
- `pkg/ottl`: Add GetXML Converter ([#35462](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35462))
- `pkg/ottl`: Add ToKeyValueString Converter ([#35334](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35334))
- `pkg/ottl`: Add RemoveXML Converter ([#35301](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35301))

### ðŸ§° Bug fixes ðŸ§°

- `processorhelper`: Fix data race condition, concurrent writes to the err variable, causes UB (Undefined Behavior) ([#11350](https://github.com/open-telemetry/opentelemetry-collector/pull/11350))
- `cmd/builder`: re-adds function to properly set and view version number of OpenTelemetry Collector Builder (ocb) binaries ([#11208](https://github.com/open-telemetry/opentelemetry-collector/pull/11208))
- `pdata`: Unmarshal Span and SpanLink flags from JSON ([#11267](https://github.com/open-telemetry/opentelemetry-collector/pull/11267))

---

</details>

## v0.15.0

This release includes version 0.110.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.110.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.110.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.110.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `processorhelper`: Update incoming/outgoing metrics to a single metric with a `otel.signal` attributes. ([#11144](https://github.com/open-telemetry/opentelemetry-collector/pull/11144))
  The following metrics were added in the previous version
  - otelcol_processor_incoming_spans
  - otelcol_processor_outgoing_spans
  - otelcol_processor_incoming_metric_points
  - otelcol_processor_outgoing_metric_points
  - otelcol_processor_incoming_log_records
  - otelcol_processor_outgoing_log_records

  They are being replaced with the following to more closely align with OTEP 259:
  - otelcol_processor_incoming_items
  - otelcol_processor_outgoing_items

- `processorhelper`: Remove deprecated `[Traces|Metrics|Logs]`Inserted funcs ([#11151](https://github.com/open-telemetry/opentelemetry-collector/pull/11151))
- `config`: Mark UseLocalHostAsDefaultHostfeatureGate as stable ([#11235](https://github.com/open-telemetry/opentelemetry-collector/pull/11235))
- `pkg/stanza`: Move `filelog.container.removeOriginalTimeField` feature gate to beta ([#33389](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33389))
  - Disable the `filelog.container.removeOriginalTimeField` feature gate to get the old behavior.

- `resourcedetectionprocessor`: Move `processor.resourcedetection.hostCPUSteppingAsString` feature gate to stable. ([#31136](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/31136))
- `resourcedetectionprocessor`: Remove `processor.resourcedetection.hostCPUModelAndFamilyAsString` feature gate. ([#29025](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/29025))

### ðŸš© Deprecations ðŸš©

- `processorhelper`: deprecate accepted/refused/dropped metrics ([#11201](https://github.com/open-telemetry/opentelemetry-collector/pull/11201))
  The following metrics are being deprecated as they were only used in a single
  processor:
  - `otelcol_processor_accepted_log_records`
  - `otelcol_processor_accepted_metric_points`
  - `otelcol_processor_accepted_spans`
  - `otelcol_processor_dropped_log_records`
  - `otelcol_processor_dropped_metric_points`
  - `otelcol_processor_dropped_spans`
  - `otelcol_processor_refused_log_records`
  - `otelcol_processor_refused_metric_points`
  - `otelcol_processor_refused_spans`
- `hostmetricsreceiver`: Set the receiver.hostmetrics.normalizeProcessCPUUtilization feature gate to stable. ([#34763](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34763))

### ðŸ’¡ Enhancements ðŸ’¡

- `mdatagen`: Add stability field to telemetry metrics, allowing the generated description to include a stability string. ([#11160](https://github.com/open-telemetry/opentelemetry-collector/pull/11160))
- `confmap/provider/envprovider`: Support default values when env var is empty ([#5228](https://github.com/open-telemetry/opentelemetry-collector/pull/5228))
- `service/telemetry`: Mark useOtelWithSDKConfigurationForInternalTelemetry as stable ([#7532](https://github.com/open-telemetry/opentelemetry-collector/pull/7532))
- `mdatagen`: mdatagen `validateMetrics()` support validate metrics in `telemetry.metric` ([#10925](https://github.com/open-telemetry/opentelemetry-collector/pull/10925))
- `mdatagen`: Use cobra for the command, add version flag ([#11196](https://github.com/open-telemetry/opentelemetry-collector/pull/11196))
- `processor/transform`: Add custom function to the transform processor to convert exponential histograms to explicit histograms. ([#33827](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33827))
- `pkg/ottl`: Improved JSON unmarshaling performance by 10-20% by switching dependencies. ([#35130](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35130))
- `pkg/ottl`: Added support for locale in the Time converter ([#32978](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32978))
- `transformprocessor`: Remove unnecessary data copy when transform sum to/from gauge ([#35177](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35177))
- `tailsamplingprocessor`: Fix the behavior for numeric tag filters with `inverse_match` set to `true`. ([#34296](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34296))

### ðŸ§° Bug fixes ðŸ§°

- `service`: Ensure process telemetry is registered when internal telemetry is configured with readers instead of an address. ([#11093](https://github.com/open-telemetry/opentelemetry-collector/pull/11093))
- `mdatagen`: Fix incorrect generation of metric tests with boolean attributes. ([#11169](https://github.com/open-telemetry/opentelemetry-collector/pull/11169))
- `otelcol`: Fix the Windows Event Log configuration when running the Collector as a Windows service. ([#5297](https://github.com/open-telemetry/opentelemetry-collector/pull/5297), [#11051](https://github.com/open-telemetry/opentelemetry-collector/pull/11051))
- `confmap`: Fix loading config of a component from a different source. ([#11154](https://github.com/open-telemetry/opentelemetry-collector/pull/11154))
  This issue only affected loading the whole component config, loading parts of a component config from a different source was working correctly.
- `pkg/stanza`: Do not get formatted message for Windows events without an event provider. ([#35135](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35135))
  Attempting to get the formatted message for Windows events without an event provider can result in an error being logged. |
  This change ensures that the formatted message is not retrieved for such events.
- `prometheusreceiver`: Fix the retrieval of scrape configurations by also considering scrape config files ([#34786](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34786))
- `redactionprocessor`: Fix panic when using the redaction processor in a logs pipeline ([#35331](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35331))

---

</details>

## 0.14.0

This release includes version 0.109.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.109.0:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.109.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘
  
- `spanmetricsconnector`: Improve consistency between metrics generated by spanmetricsconnector. Added traces.span.metrics as default namespace ([#33227](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33227), [#32818](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32818))
  Default namespace for the generated metrics is traces.span.metrics now. | The deprecated metrics are: calls, duration and events. | The feature flag connector.spanmetrics.legacyLatencyMetricNames was added to revert the behavior.
- `pkg/ottl`: Remove tracing from OTTL due to performance concerns ([#34910](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34910))

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Added Decode() converter function ([#32493](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32493))
- `pkg/ottl`: Add `Sort` function to sort array to ascending order or descending order ([#34200](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34200))
- `transformprocessor`: Support aggregating metrics based on their attribute values and substituting the values with a new value. ([#16224](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/16224))
- `redactionprocessor`: Add support for logs and metrics ([#34479](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/34479))

### ðŸ§° Bug fixes ðŸ§°
  
- `hostmetricsreceiver`: In filesystem scraper, do not prefix partitions when using the environment variable HOST_PROC_MOUNTINFO ([#35043](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/35043))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `eecprovider`: Add informational headers to EEC provider requests ([#280](https://github.com/Dynatrace/dynatrace-otel-collector/pull/280))
- `docs`: Added Dynatrace dashboards that can be used to inspect the collectors internal telemetry ([#274](https://github.com/Dynatrace/dynatrace-otel-collector/pull/274))

## v0.13.0

This release includes version 0.108.0/0.108.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.108.0:

- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.108.0>

v0.108.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.108.1>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `all`: Added support for go1.23, bumped the minimum version to 1.22 (open-telemetry/opentelemetry-collector#10869)
- `otelcol`: Remove deprecated `ConfmapProvider` interface. (open-telemetry/opentelemetry-collector#10934)
- `confmap`: Mark `confmap.strictlyTypedInput` as stable (open-telemetry/opentelemetry-collector#10552)
- `all`: Added support for go1.23, bumped the minimum version to 1.22 (open-telemetry/opentelemetry-collector-contrib#34658)
- `transformprocessor`: Promote processor.transform.ConvertBetweenSumAndGaugeMetricContext feature flag from alpha to beta (open-telemetry/opentelemetry-collector-contrib#34567)

### ðŸ’¡ Enhancements ðŸ’¡

- `exporter/otlp`: Add batching option to otlp exporter (open-telemetry/opentelemetry-collector#8122)
- `builder`: Add a --skip-new-go-module flag to skip creating a module in the output directory. (open-telemetry/opentelemetry-collector#9252)
- `component`: Add `TelemetrySettings.LeveledMeterProvider` func to replace MetricsLevel in the near future (open-telemetry/opentelemetry-collector#10931)
- `mdatagen`: Add `LeveledMeter` method to mdatagen (open-telemetry/opentelemetry-collector#10933)
- `service`: Adds `level` configuration option to `service::telemetry::trace` to allow users to disable the default TracerProvider (open-telemetry/opentelemetry-collector#10892)
  This replaces the feature gate `service.noopTracerProvider` introduced in v0.107.0
- `componentstatus`: Add new Reporter interface to define how to report a status via a `component.Host` implementation (open-telemetry/opentelemetry-collector#10852)
- `mdatagen`: support using a different github project in mdatagen README issues list (open-telemetry/opentelemetry-collector#10484)
- `mdatagen`: Updates mdatagen's usage to output a complete command line example, including the metadata.yaml file. (open-telemetry/opentelemetry-collector#10886)
- `extension`: Add ModuleInfo to extension.Settings to allow extensions to access component go module information. (open-telemetry/opentelemetry-collector#10876)
- `confmap`: Mark module as stable (open-telemetry/opentelemetry-collector#9379)
- `deltatocumulative`: Promote to `alpha` stability (open-telemetry/opentelemetry-collector-contrib#34747)
  promotes the deltatocumulative processor to alpha stability, as most features are now implemented and ready for wider testing.
- `deltatocumulative`: explicit-bounds histograms (open-telemetry/opentelemetry-collector-contrib#30705)
  implements aggregation of explicit-bounds (traditional) histograms.
- `filelogreceiver`: If acquire_fs_lock is true, attempt to acquire a shared lock before reading a file. (open-telemetry/opentelemetry-collector-contrib#34801)
  Unix only. If a lock cannot be acquired then the file will be ignored until the next poll cycle.
- `prometheusreceiver`: Ensure Target Allocator's confighttp is used in the receiver's service discovery (open-telemetry/opentelemetry-collector-contrib#33370)
- `metricstransformprocessor`: Add scaling exponential histogram support (open-telemetry/opentelemetry-collector-contrib#29803)
- `pkg/ottl`: Introduce `UserAgent` converter to parse UserAgent strings (open-telemetry/opentelemetry-collector-contrib#32434)

### ðŸ§° Bug fixes ðŸ§°

- `batchprocessor`: Update units for internal telemetry (open-telemetry/opentelemetry-collector#10652)
- `confmap`: Fix bug where an unset env var used with a non-string field resulted in a panic (open-telemetry/opentelemetry-collector#10950)
- `service`: Fix memory leaks during service package shutdown (open-telemetry/opentelemetry-collector#9165)
- `mdatagen`: Update generated telemetry template to only include context import when there are async metrics. (open-telemetry/opentelemetry-collector#10883)
- `mdatagen`: Fixed bug in which setting `SkipLifecycle` & `SkipShutdown` to true would result in a generated file with an unused import `confmaptest` (open-telemetry/opentelemetry-collector#10866)
- `confmap`: Use string representation for field types where all primitive types are strings. (open-telemetry/opentelemetry-collector#10937)
- `otelcol`: Preserve internal representation when unmarshaling component configs (open-telemetry/opentelemetry-collector#10552)
- `tailsamplingprocessor`: Update the `policy` value in metrics dimension value to be unique across multiple tail sampling components with the same policy name. (open-telemetry/opentelemetry-collector-contrib#34192)
  This change ensures that the `policy` value in the metrics exported by the tail sampling processor is unique across multiple tail sampling processors with the same policy name.
- `prometheusreceiver`: Group scraped metrics into resources created from `job` and `instance` label pairs (open-telemetry/opentelemetry-collector-contrib#34237)
  The receiver will now create a resource for each distinct job/instance label combination.
  In addition to the label/instance pairs detected from the scraped metrics, a resource representing the overall
  scrape configuration will be created. This additional resource will contain the scrape metrics, such as the number of scraped metrics, the scrape duration, etc.

- `tailsamplingprocessor`: Fix the behavior for numeric tag filters with `inverse_match` set to `true`. (open-telemetry/opentelemetry-collector-contrib#34296)
- `pkg/stanza`: fix nil value conversion (open-telemetry/opentelemetry-collector-contrib#34672)

---

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `redactionprocessor`: Added the redaction processor to the Dynatrace collector distro. ([#275](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/275))

## v0.12.0

This release includes version 0.107.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.107.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.107.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.107.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `confmap`: Set the `confmap.unifyEnvVarExpansion` feature gate to Stable. Expansion of `$FOO` env vars is no longer supported.  Use `${FOO}` or `${env:FOO}` instead. (open-telemetry/opentelemetry-collector#10508)
- `filelogreceiver`: Check for unsupported fractional seconds directive when converting strptime time layout to native format (open-telemetry/opentelemetry-collector-contrib#34390)
- `fluentforwardreceiver`: Update the scope name for telemetry produced by the fluentforwardreceiver from `otelcol/fluentforwardreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/fluentforwardreceiver` (open-telemetry/opentelemetry-collector-contrib#34534)
- `hostmetricsreceiver`: Update the scope name for telemetry produced by the hostmetrics receiver's scrapers from `otelcol/hostmetricsreceiver/*` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/hostmetricsreceiver/internal/scraper/*` (open-telemetry/opentelemetry-collector-contrib#34526)
- `prometheusreceiver`: Update the scope name for telemetry produced by the prometheusreceiver from `otelcol/prometheusreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/prometheusreceiver (open-telemetry/opentelemetry-collector-contrib#34589)
- `statsdreceiver`: Update the scope name for telemetry produced by the statsdreceiver from `otelcol/statsdreceiver` to `github.com/open-telemetry/opentelemetry-collector-contrib/receiver/statsdreceiver` (open-telemetry/opentelemetry-collector-contrib#34547)
- `k8sattributesprocessor`: Update the scope name for telemetry produced by the k8sattributesprocessor from `otelcol/k8sattributes` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/k8sattributesprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `filterprocessor`: Update the scope name for telemetry produced by the filterprocessor from `otelcol/filter` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/filterprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `probabilisticsamplerprocessor`: Update the scope name for telemetry produced by the probabilisticsamplerprocessor from `otelcol/probabilisticsampler` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/probabilisticsamplerprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)
- `tailsamplingprocessor`: Update the scope name for telemetry produced by the tailsamplingprocessor from `otelcol/tailsampling` to `github.com/open-telemetry/opentelemetry-collector-contrib/processor/tailsamplingprocessor` (open-telemetry/opentelemetry-collector-contrib#34550)

### ðŸ’¡ Enhancements ðŸ’¡

- `confmap`: Allow using any YAML structure as a string when loading configuration. (open-telemetry/opentelemetry-collector#10800)
  Previous to this change, slices could not be used as strings in configuration.
- `semconv`: Add v1.26.0 semantic conventions package (open-telemetry/opentelemetry-collector#10249, open-telemetry/opentelemetry-collector#10829)
- `semconv`: Add semantic conventions version v1.27.0 (open-telemetry/opentelemetry-collector#10837)
- `hostmetricsreceiver`: add reporting interval to entity event (open-telemetry/opentelemetry-collector-contrib#34240)
- `processor/k8sattributes`: Add support for `container.image.repo_digests` metadata (open-telemetry/opentelemetry-collector-contrib#34029)

### ðŸ§° Bug fixes ðŸ§°

- `configtelemetry`: Add 10s read header timeout on the configtelemetry Prometheus HTTP server. (open-telemetry/opentelemetry-collector#5699)
- `service`: Allow users to disable the tracer provider via the feature gate `service.noopTracerProvider` (open-telemetry/opentelemetry-collector#10858)
  The service is returning an instance of a SDK tracer provider regardless of whether there were any processors configured causing resources to be consumed unnecessarily.
- `processorhelper`: Fix processor metrics not being reported initially with 0 values. (open-telemetry/opentelemetry-collector#10855)
- `service`: Implement the `temporality_preference` setting for internal telemetry exported via OTLP (open-telemetry/opentelemetry-collector#10745)
- `configauth`: Fix unmarshaling of authentication in HTTP servers. (open-telemetry/opentelemetry-collector#10750)
- `confmap`: If loading an invalid YAML string through a provider, use it verbatim instead of erroring out. (open-telemetry/opentelemetry-collector#10759)
  This makes the ${env:ENV} syntax closer to how ${ENV} worked before unifying syntaxes.
  
- `component`: Allow component names of up to 1024 characters in length. (open-telemetry/opentelemetry-collector#10816)
- `confmap`: Remove original string representation if invalid. (open-telemetry/opentelemetry-collector#10787)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ§° Bug fixes ðŸ§°

- `release`: Add missing dependency to /bin/sh to the RPM linux package ([#264](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/264))

## v0.11.0

This release includes version 0.106.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.106.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.106.1>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.106.1>

v0.106.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.106.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.106.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸš© Deprecations ðŸš©

- `k8sattributesprocessor`: Deprecate `extract.annotations.regex` and `extract.labels.regex` config fields in favor of the `ExtractPatterns` function in the transform processor. The `FieldExtractConfig.Regex` parameter will be removed in version v0.111.0. (open-telemetry/opentelemetry-collector-contrib#25128)
  Deprecating of FieldExtractConfig.Regex parameter means that it is recommended to use the `ExtractPatterns` function from the transform processor instead. To convert your current configuration please check the `ExtractPatterns` function [documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/pkg/ottl/ottlfuncs#extractpatterns). You should use the `pattern` parameter of `ExtractPatterns` instead of using the `FieldExtractConfig.Regex` parameter.

### ðŸ’¡ Enhancements ðŸ’¡

- `confighttp`: Add option to include query params in auth context (open-telemetry/opentelemetry-collector#4806)
- `configgrpc`: gRPC auth errors now return gRPC status code UNAUTHENTICATED (16) (open-telemetry/opentelemetry-collector#7646)
- `httpprovider`, `httpsprovider`: Validate URIs in HTTP and HTTPS providers before fetching. (open-telemetry/opentelemetry-collector#10468)
- `processor/transform`: Add `scale_metric` function that scales all data points in a metric. (open-telemetry/opentelemetry-collector-contrib#16214)
- `transformprocessor`: Support aggregating metrics based on their attributes. (open-telemetry/opentelemetry-collector-contrib#16224)
- `pkg/ottl`: Adds an `Format` function to OTTL that calls `fmt.Sprintf` (open-telemetry/opentelemetry-collector-contrib#33405)

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `release`: Add version number to all release artifacts ([#245](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/245))
  All collector distribution artifacts now include the version number in their filename.
  
- `release`: Release as Linux service for multiple Linux distros ([#241](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/241))
  The collector distribution is now available as linux packages (.rpm and .deb).
  

## v0.10.0

This release includes version 0.105.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.105.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.105.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.105.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `service`: add `service.disableOpenCensusBridge` feature gate which is enabled by default to remove the dependency on OpenCensus ([#10414](https://github.com/open-telemetry/opentelemetry-collector/issues/10414))
- `confmap`: Promote `confmap.strictlyTypedInput` feature gate to beta. ([#10552](https://github.com/open-telemetry/opentelemetry-collector/issues/10552))
  
  This feature gate changes the following:

  - Configurations relying on the implicit type casting behaviors listed on [#9532](https://github.com/open-telemetry/opentelemetry-collector/issues/9532) will start to fail.
  - Configurations using URI expansion (i.e. `field: ${env:ENV}`) for string-typed fields will use the value passed in `ENV` verbatim without intermediate type casting.

- `stanza`: errors from Operator.Process are returned instead of silently ignored. ([#33783](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33783))
  This public function is affected: https://pkg.go.dev/github.com/open-telemetry/opentelemetry-collector-contrib/pkg/stanza@v0.104.0/operator/helper#WriterOperator.Write

### ðŸ§° Bug fixes ðŸ§°

- `confmap`: Fixes issue where confmap could not escape `$$` when `confmap.unifyEnvVarExpansion` is enabled. ([#10560](https://github.com/open-telemetry/opentelemetry-collector/pull/10560))
- `otlpreceiver`: Fixes a bug where the otlp receiver's http response was not properly translating grpc error codes to http status codes. ([#10574](https://github.com/open-telemetry/opentelemetry-collector/pull/10574))
- `service/telemetry`: Add ability to set service.name for spans emitted by the Collector ([#10489](https://github.com/open-telemetry/opentelemetry-collector/issues/10489))
- `internal/localhostgate`: Correctly log info message when `component.UseLocalHostAsDefaultHost` is enabled ([#8510](https://github.com/open-telemetry/opentelemetry-collector/issues/8510))
- `exporterhelper`: Fix incorrect deduplication of otelcol_exporter_queue_size and otelcol_exporter_queue_capacity metrics if multiple exporters are used. ([#10444](https://github.com/open-telemetry/opentelemetry-collector/issues/10444))
- `prometheusreceiver`: Fix hash computation to include non exported fields like regex in scrape configuration for TargetAllocator ([#29313](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/29313))
- `syslogreceiver`: Allow to define `max_octets` for octet counting RFC5424 syslog parser ([#33182](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33182))

### ðŸ’¡ Enhancements ðŸ’¡

- `pkg/ottl`: Added Hex() converter function ([#31929](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31929))
- `pkg/ottl`: Add IsRootSpan() converter function. ([#32918](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32918))
    Converter `IsRootSpan()` returns `true` if the span in the corresponding context is root, that means its `parent_span_id` equals to hexadecimal representation of zero. In all other scenarios function returns `false`.
- `pkg/ottl`: Emit traces for statement sequence executions to troubleshoot OTTL statements/conditions ([#33433](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33433))
- `receiver/filelog`: Add filelog.container.removeOriginalTimeField feature-flag for removing original time field ([#33946](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33946))
- `statsdreceiver`: Allow configuring summary percentiles ([#33701](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33701))

---

</details>

#### Dynatrace distribution changelog:

### ðŸš€ New components ðŸš€

- `statsdreceiver`: Add statsd receiver to manifest ([#229](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/229))
- `zipkinreceiver`: Added the zipkin receiver to the Dynatrace collector distro ([#225](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/225))

## v0.9.0

This release includes version 0.104.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.104.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.104.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.104.0>

> [!WARNING]
> This release includes two important breaking changes:
> 
> 1. The `otlpreceiver`, `jaegerreceiver` and `healthcheckextension` will now use `localhost` by default instead of `0.0.0.0`. This may break the receivers when the sender is not running on the same host, particularly in containerized environments like Kubernetes. If you depend on `0.0.0.0` disable the `component.UseLocalHostAsDefaultHost` feature gate or explicitly set the endpoint to `0.0.0.0`.
>    For more details, check out the [OTel blog post](https://opentelemetry.io/blog/2024/hardening-the-collector-one).
> 2. Expansion of BASH-style environment variables, such as `$FOO` will no longer be supported by default. If you depend on this syntax, disable the `confmap.unifyEnvVarExpansion` feature gate, but know that the feature will be removed in the future in favor of `${env:FOO}`.

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `pkg/ottl`: Changed ScopeContext, InstrumentationResourceContext, TransformContext interfaces to make SchemaURL accessible in resources and scopes on all signals ([#30229](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/30229))
- `filter`: Remove deprecated `filter.CombinedFilter` ([#10348](https://github.com/open-telemetry/opentelemetry-collector/issues/10348))
- `otelcol`: By default, `otelcol.NewCommand` and `otelcol.NewCommandMustSetProvider` will set the `DefaultScheme` to `env`. [#10435](https://github.com/open-telemetry/opentelemetry-collector/issues/10435))
- `otelcol`: The otelcol.NewCommand now requires at least one provider be set. ([#10436](https://github.com/open-telemetry/opentelemetry-collector/issues/10436))

### ðŸš© Deprecations ðŸš©

- `otelcol`: The `otelcol.NewCommandMustSetProvider` is deprecated. Use `otelcol.NewCommand` instead. ([#10436](https://github.com/open-telemetry/opentelemetry-collector/issues/10436))

### ðŸ’¡ Enhancements ðŸ’¡

- `k8sattributesprocessor`: Add support for exposing `k8s.pod.ip` as a resource attribute ([#32960](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32960))
- `debugexporter`: In `normal` verbosity, display one line of text for each telemetry record (log, data point, span) ([#7806](https://github.com/open-telemetry/opentelemetry-collector/issues/7806))
- `debugexporter`: Add option `use_internal_logger` ([#10226](https://github.com/open-telemetry/opentelemetry-collector/issues/10226))
- `debugexporter`: Print Span.TraceState() when present. ([#10421](https://github.com/open-telemetry/opentelemetry-collector/issues/10421))

### ðŸ§° Bug fixes ðŸ§°

- `resourcedetectionprocessor`: Fetch CPU info only if related attributes are enabled ([#33774](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33774))
- `tailsamplingprocessor`: Fix precedence of inverted match in and policy ([#33671](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33671))
  Previously if the decision from a policy evaluation was `NotSampled` or `InvertNotSampled` it would return a `NotSampled` decision regardless, effectively downgrading the result.
  This was breaking the documented behaviour that inverted decisions should take precedence over all others.
- `otlpexporter`: Update validation to support both dns:// and dns:/// ([#10449](https://github.com/open-telemetry/opentelemetry-collector/issues/10449))
- `service`: Fixed a bug that caused otel-collector to fail to start with ipv6 metrics endpoint service telemetry. ([#10011](https://github.com/open-telemetry/opentelemetry-collector/issues/10011))
  
---

</details>

## v0.8.0

This release includes version 0.103.0 of the upstream Collector components.

*NOTE:* This release is in line with the upstream distributions of the Collector version 0.103.1, which is based on the same
0.103.0 upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.103.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.103.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.103.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `exporter/debug`: Disable sampling by default ([#9921](https://github.com/open-telemetry/opentelemetry-collector/issues/9921)).
  To restore the behavior that was previously the default, set `sampling_thereafter` to `500`.

### ðŸš© Deprecations ðŸš© ###

- `healthcheckextension`: Remove incorrect logic behind `check_collector_pipeline` config ([#33469](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33469)).
  This logic incorrectly set the pipeline to OK after waiting for enough callbacks from the
  opencensus library to be called. As this was broken, I'm removing it to remove the dependency
  on opencensus as well. Improvements will be available via healthcheckv2 extension.


### ðŸ§° Bug fixes ðŸ§°

- `filelogreceiver`: Container parser should add k8s metadata as resource attributes and not as log record attributes ([#33341](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/33341))
- `prometheusreceiver`: Fall back to scrape config job/instance labels for aggregated metrics without instance/job labels ([#32555](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/32555))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- `examples`: Added an example for using the syslog receiver, as well as integration tests for the added example. ([#136](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/136))

## v0.7.0

This release includes version 0.102.1 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

0.102.1:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.102.1>
- (no changes/patch release for opentelemetry-collector-contrib)

0.102.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.102.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.102.0>

<details>
<summary>Highlights from the upstream Collector changelog</summary>

### This release addresses CVE-2024-36129 ([GHSA-c74f-6mfw-mm4v](https://github.com/open-telemetry/opentelemetry-collector/security/advisories/GHSA-c74f-6mfw-mm4v)) fully

### ðŸ›‘ Breaking changes ðŸ›‘

- `envprovider`: Restricts Environment Variable names.  Environment variable names must now be ASCII only and start with a letter or an underscore, and can only contain underscores, letters, or numbers. ([#9531](https://github.com/open-telemetry/opentelemetry-collector/issues/9531))
- `confighttp`: Apply MaxRequestBodySize to the result of a decompressed body ([#10289](https://github.com/open-telemetry/opentelemetry-collector/pull/10289))
  When using compressed payloads, the Collector would verify only the size of the compressed payload. 
  This change applies the same restriction to the decompressed content. As a security measure, a limit of 20 MiB was added, which makes this a breaking change. 
  For most clients, this shouldn't be a problem, but if you often have payloads that decompress to more than 20 MiB, you might want to either configure your
  client to send smaller batches (recommended), or increase the limit using the MaxRequestBodySize option.
- `k8sattributesprocessor`: Move `k8sattr.rfc3339` feature gate to stable. ([#33304](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33304))

### ðŸ§° Bug fixes ðŸ§°

- `batchprocessor`: ensure attributes are set on cardinality metadata metric ([#9674](https://github.com/open-telemetry/opentelemetry-collector/issues/9674))
- `batchprocessor`: Fixing processor_batch_metadata_cardinality which was broken in v0.101.0 ([#10231](https://github.com/open-telemetry/opentelemetry-collector/issues/10231))
- `batchprocessor`: respect telemetry level for all metrics ([#10234](https://github.com/open-telemetry/opentelemetry-collector/pull/10234))
- `configrpc`: Use own compressors for zstd ([#10323](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/10323))
   Before this change, the zstd compressor we used didn't respect the max message size. This addresses CVE-2024-36129 (GHSA-c74f-6mfw-mm4v) on `configgrpc`.

---

</details>

## v0.6.0

This release includes version 0.101.0 of the upstream Collector components.

The individual upstream Collector changelogs can be found here:

v0.101.0:

- <https://github.com/open-telemetry/opentelemetry-collector/releases/tag/v0.101.0>
- <https://github.com/open-telemetry/opentelemetry-collector-contrib/releases/tag/v0.101.0>

<details>

<summary>Highlights from the upstream Collector changelog</summary>

### ðŸ›‘ Breaking changes ðŸ›‘

- `filelog, journald, tcp, udp, syslog, windowseventlog receivers`: The internal logger has been changed from zap.SugaredLogger to zap.Logger. ([#32177](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32177))
This should not have any meaningful impact on most users but the logging format for some logs may have changed.

### ðŸ’¡ Enhancements ðŸ’¡

- `filelogreceiver`: Add container operator parser ([#31959](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/31959))
- `resourcedetectionprocessor`: Support GCP Bare Metal Solution in resource detection processor. ([#32985](https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/32985))
- `processor/transform`: Allow common where clause ([#27830](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/27830))

---

</details>

#### Dynatrace distribution changelog:

### ðŸ’¡ Enhancements ðŸ’¡

- Add section to list which container registries are available to pull images from ([#188](https://github.com/Dynatrace/dynatrace-otel-collector/pull/188))
- Use chloggen to generate changelog entries ([#191](https://github.com/Dynatrace/dynatrace-otel-collector/pull/191))
